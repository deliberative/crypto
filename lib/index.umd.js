!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).dcrypto={})}(this,(function(e){"use strict";const r=(e,r,n)=>{r=r||32,n=n||1600;const t=65536,o=Math.ceil(e/t);if(o>n)throw new Error(`Memory required is ${o*t} bytes while declared maximum is ${n*t} bytes`);return o<r?r:o},n=64,t=32,o=12,i=64,a=32,s=64;var u={newKeyPairMemory:()=>{const e=96*Uint8Array.BYTES_PER_ELEMENT,n=r(e);return new WebAssembly.Memory({initial:n,maximum:n})},keyPairFromSeedMemory:()=>{const e=128*Uint8Array.BYTES_PER_ELEMENT,n=r(e);return new WebAssembly.Memory({initial:n,maximum:n})},keyPairFromSecretKeyMemory:()=>{const e=96*Uint8Array.BYTES_PER_ELEMENT,n=r(e);return new WebAssembly.Memory({initial:n,maximum:n})},signMemory:e=>{const t=(e+i+s+n)*Uint8Array.BYTES_PER_ELEMENT,o=r(t);return new WebAssembly.Memory({initial:o,maximum:o})},verifyMemory:e=>{const n=(e+i+a)*Uint8Array.BYTES_PER_ELEMENT,t=r(n);return new WebAssembly.Memory({initial:t,maximum:t})},encryptMemory:(e,n)=>{const t=(e+a+n+(44+e+16)+1*(e+16)+64+64+o)*Uint8Array.BYTES_PER_ELEMENT,i=r(t);return new WebAssembly.Memory({initial:i,maximum:i})},decryptMemory:(e,n)=>{const i=(e+s+n+(e-t-o-16)+64+o+32)*Uint8Array.BYTES_PER_ELEMENT,a=r(i);return new WebAssembly.Memory({initial:a,maximum:a})}};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var c,f=(c="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(c=c||__filename),function(e){var r,n,t=void 0!==(e=e||{})?e:{};t.ready=new Promise((function(e,t){r=e,n=t}));var o,i,a,s,u,f,d=Object.assign({},t),m=[],p="./this.program",h=function(e,r){throw r},w="object"==("undefined"==typeof window?"undefined":l(window)),y="function"==typeof importScripts,v="object"==("undefined"==typeof process?"undefined":l(process))&&"object"==l(process.versions)&&"string"==typeof process.versions.node,g="";v?(g=y?require("path").dirname(g)+"/":__dirname+"/",f=function(){u||(s=require("fs"),u=require("path"))},o=function(e,r){return f(),e=u.normalize(e),s.readFileSync(e,r?void 0:"utf8")},a=function(e){var r=o(e,!0);return r.buffer||(r=new Uint8Array(r)),r},i=function(e,r,n){f(),e=u.normalize(e),s.readFile(e,(function(e,t){e?n(e):r(t.buffer)}))},process.argv.length>1&&(p=process.argv[1].replace(/\\/g,"/")),m=process.argv.slice(2),h=function(e,r){if(Y())throw process.exitCode=e,r;var n;(n=r)instanceof se||_("exiting due to exception: "+n),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(w||y)&&(y?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),c&&(g=c),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},y&&(a=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),i=function(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){200==t.status||0==t.status&&t.response?r(t.response):n()},t.onerror=n,t.send(null)});var b=t.print||console.log.bind(console),_=t.printErr||console.warn.bind(console);Object.assign(t,d),d=null,t.arguments&&(m=t.arguments),t.thisProgram&&(p=t.thisProgram),t.quit&&(h=t.quit);var E,k=t.dynamicLibraries||[];t.wasmBinary&&(E=t.wasmBinary);var A,S=t.noExitRuntime||!0;"object"!=("undefined"==typeof WebAssembly?"undefined":l(WebAssembly))&&ne("no native wasm support detected");var M,P,D,x,R,F,B,z,T=!1,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,r,n){for(var t=r+n,o=r;e[o]&&!(o>=t);)++o;if(o-r>16&&e.buffer&&N)return N.decode(e.subarray(r,o));for(var i="";r<o;){var a=e[r++];if(128&a){var s=63&e[r++];if(192!=(224&a)){var u=63&e[r++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[r++])<65536)i+=String.fromCharCode(a);else{var l=a-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function j(e,r){return e?O(x,e,r):""}function U(e,r,n,t){if(!(t>0))return 0;for(var o=n,i=n+t-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=i)break;r[n++]=s}else if(s<=2047){if(n+1>=i)break;r[n++]=192|s>>6,r[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;r[n++]=224|s>>12,r[n++]=128|s>>6&63,r[n++]=128|63&s}else{if(n+3>=i)break;r[n++]=240|s>>18,r[n++]=128|s>>12&63,r[n++]=128|s>>6&63,r[n++]=128|63&s}}return r[n]=0,n-o}function L(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t<=127?r++:t<=2047?r+=2:t>=55296&&t<=57343?(r+=4,++n):r+=3}return r}function I(e){P=e,t.HEAP8=D=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=R=new Int32Array(e),t.HEAPU8=x=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=F=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=z=new Float64Array(e),t.HEAP64=B=new BigInt64Array(e),t.HEAPU64=new BigUint64Array(e)}var W=t.INITIAL_MEMORY||2097152;(A=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:W/65536,maximum:1600}))&&(P=A.buffer),W=P.byteLength,I(P);var C=new WebAssembly.Table({initial:5,element:"anyfunc"}),q=[],H=[],G=[],X=[],K=[],V=!1;function Y(){return S}var $,J,Q=0,Z=null;function ee(e){Q++,t.monitorRunDependencies&&t.monitorRunDependencies(Q)}function re(e){if(Q--,t.monitorRunDependencies&&t.monitorRunDependencies(Q),0==Q&&Z){var r=Z;Z=null,r()}}function ne(e){t.onAbort&&t.onAbort(e),_(e="Aborted("+e+")"),T=!0,M=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw n(r),r}function te(e){return e.startsWith("data:application/octet-stream;base64,")}function oe(e){return e.startsWith("file://")}function ie(e){try{if(e==$&&E)return new Uint8Array(E);if(a)return a(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}te($="libsodiumMethodsModule.wasm")||(J=$,$=t.locateFile?t.locateFile(J,g):g+J);var ae={33364:function(){return t.getRandomValue()},33400:function(){if(void 0===t.getRandomValue)try{var e="object"===("undefined"==typeof window?"undefined":l(window))?window:self,r=void 0!==e.crypto?e.crypto:e.msCrypto,n=function(){var e=new Uint32Array(1);return r.getRandomValues(e),e[0]>>>0};n(),t.getRandomValue=n}catch(e){try{var o=require("crypto"),i=function(){var e=o.randomBytes(4);return(e[0]<<24|e[1]<<16|e[2]<<8|e[3])>>>0};i(),t.getRandomValue=i}catch(e){throw"No secure random number generator found"}}}};function se(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}var ue={},le=new Set([]),ce={get:function(e,r){var n=ue[r];return n||(n=ue[r]=new WebAssembly.Global({value:"i32",mutable:!0})),le.has(r)||(n.required=!0),n}};function fe(e){for(;e.length>0;)e.shift()(t)}function de(e){var r=0,n=0;function t(){for(var n=0,t=1;;){var o=e[r++];if(n+=(127&o)*t,t*=128,!(128&o))break}return n}function o(){var n=t();return O(e,(r+=n)-n,n)}function i(e,r){if(e)throw new Error(r)}var a="dylink.0";if(e instanceof WebAssembly.Module){var s=WebAssembly.Module.customSections(e,a);0===s.length&&(a="dylink",s=WebAssembly.Module.customSections(e,a)),i(0===s.length,"need dylink section"),n=(e=new Uint8Array(s[0])).length}else{i(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),i(0!==e[8],"need the dylink section to be first"),r=9;var u=t();n=r+u,a=o()}var l={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==a){l.memorySize=t(),l.memoryAlign=t(),l.tableSize=t(),l.tableAlign=t();for(var c=t(),f=0;f<c;++f){var d=o();l.neededDynlibs.push(d)}}else for(i("dylink.0"!==a);r<n;){var m=e[r++],p=t();if(1===m)l.memorySize=t(),l.memoryAlign=t(),l.tableSize=t(),l.tableAlign=t();else if(2===m)for(c=t(),f=0;f<c;++f)d=o(),l.neededDynlibs.push(d);else if(3===m)for(var h=t();h--;){var w=o();256&t()&&l.tlsExports.add(w)}else if(4===m)for(h=t();h--;)o(),w=o(),1==(3&t())&&l.weakImports.add(w);else r+=p}return l}function me(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore"].includes(e)?e:"_"+e}function pe(e,r){for(var n in e)if(e.hasOwnProperty(n)){er.hasOwnProperty(n)||(er[n]=e[n]);var o=me(n);t.hasOwnProperty(o)||(t[o]=e[n]),"__main_argc_argv"==n&&(t._main=e[n])}}var he={loadedLibsByName:{},loadedLibsByHandle:{}},we=[];function ye(e){var r=we[e];return r||(e>=we.length&&(we.length=e+1),we[e]=r=C.get(e)),r}function ve(e,r,n){return ye(r).apply(null,n)}var ge=1084272;function be(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors"].includes(e)}function _e(e,r){e<128?r.push(e):r.push(e%128|128,e>>7)}function Ee(e,r){if(ke)for(var n=e;n<e+r;n++){var t=ye(n);t&&ke.set(t,n)}}var ke=void 0,Ae=[];function Se(e,r){C.set(e,r),we[e]=C.get(e)}function Me(e,r){if(ke||(ke=new WeakMap,Ee(0,C.length)),ke.has(e))return ke.get(e);var n=function(){if(Ae.length)return Ae.pop();try{C.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return C.length-1}();try{Se(n,e)}catch(o){if(!(o instanceof TypeError))throw o;var t=function(e,r){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var r={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[r[e[0]]]},t=1;t<e.length;++t)n.parameters.push(r[e[t]]);return n}(r),e);var n=[1,96],t=r.slice(0,1),o=r.slice(1),i={i:127,p:127,j:126,f:125,d:124};_e(o.length,n);for(var a=0;a<o.length;++a)n.push(i[o[a]]);"v"==t?n.push(0):n.push(1,i[t]);var s=[0,97,115,109,1,0,0,0,1];_e(n.length,s),s.push.apply(s,n),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(s));return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,r);Se(n,t)}return ke.set(e,n),n}function Pe(e,r,n){var t={};for(var o in e){var i=e[o];"object"==l(i)&&(i=i.value),"number"==typeof i&&(i+=r),t[o]=i}return function(e,r){for(var n in e)if(!be(n)){var t=e[n];ue[n]||(ue[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(r||0==ue[n].value)&&("function"==typeof t?ue[n].value=Me(t):"number"==typeof t?ue[n].value=t:"bigint"==typeof t?ue[n].value=Number(t):_("unhandled export type for `"+n+"`: "+l(t)))}}(t,n),t}function De(e,r){var n;return n||(n=er[e])&&n.stub&&(n=void 0),n||(n=t[me(e)]),!n&&e.startsWith("invoke_")&&(e.split("_")[1],n=function(){var e=or();try{return ve(0,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(ir(e),r!==r+0)throw r;tr(1,0)}}),n}function xe(e,r,n){var t=de(e);function o(){var o,i;if(n&&D[n+24>>0])s=F[n+28>>2],u=F[n+36>>2];else{var a=Math.pow(2,t.memoryAlign);a=Math.max(a,16);var s=t.memorySize?(o=function(e){if(V)return rr(e);var r=ge,n=r+e+15&-16;return ge=n,ue.__heap_base.value=n,r}(t.memorySize+a),i=a,Math.ceil(o/i)*i):0,u=t.tableSize?C.length:0;n&&(D[n+24>>0]=1,F[n+28>>2]=s,R[n+32>>2]=t.memorySize,F[n+36>>2]=u,R[n+40>>2]=t.tableSize)}var l,c=u+t.tableSize-C.length;function f(e){var r=De(e);return r||(r=l[e]),r}c>0&&C.grow(c);var d={get:function(e,r){switch(r){case"__memory_base":return s;case"__table_base":return u}return r in er?er[r]:(r in e||(e[r]=function(){return n||(n=f(r)),n.apply(null,arguments)}),e[r]);var n}},m=new Proxy({},d),p={"GOT.mem":new Proxy({},ce),"GOT.func":new Proxy({},ce),env:m,wasi_snapshot_preview1:m};function h(e){Ee(u,t.tableSize),l=Pe(e.exports,s),r.allowUndefined||Fe();var n=l.__wasm_call_ctors;n&&(V?n():H.push(n));var o=l.__wasm_apply_data_relocs;return o&&(V?o():K.push(o)),l}if(r.loadAsync){if(e instanceof WebAssembly.Module){var w=new WebAssembly.Instance(e,p);return Promise.resolve(h(w))}return WebAssembly.instantiate(e,p).then((function(e){return h(e.instance)}))}var y=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return h(w=new WebAssembly.Instance(y,p))}return le=t.weakImports,r.loadAsync?t.neededDynlibs.reduce((function(e,n){return e.then((function(){return Re(n,r)}))}),Promise.resolve()).then((function(){return o()})):(t.neededDynlibs.forEach((function(e){Re(e,r)})),o())}function Re(e,r,n){r=r||{global:!0,nodelete:!0};var t=he.loadedLibsByName[e];if(t)return r.global&&!t.global&&(t.global=!0,"loading"!==t.module&&pe(t.module)),r.nodelete&&t.refcount!==1/0&&(t.refcount=1/0),t.refcount++,n&&(he.loadedLibsByHandle[n]=t),!r.loadAsync||Promise.resolve(!0);function o(e){if(r.fs&&r.fs.findObject(e)){var n=r.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),r.loadAsync?Promise.resolve(n):n}if(r.loadAsync)return new Promise((function(r,n){i(e,(function(e){return r(new Uint8Array(e))}),n)}));if(!a)throw new Error(e+": file not found, and synchronous loading of external files is not available");return a(e)}function s(){if("undefined"!=typeof preloadedWasm&&preloadedWasm[e]){var t=preloadedWasm[e];return r.loadAsync?Promise.resolve(t):t}return r.loadAsync?o(e).then((function(e){return xe(e,r,n)})):xe(o(e),r,n)}function u(e){t.global&&pe(e),t.module=e}return t={refcount:r.nodelete?1/0:1,name:e,module:"loading",global:r.global},he.loadedLibsByName[e]=t,n&&(he.loadedLibsByHandle[n]=t),r.loadAsync?s().then((function(e){return u(e),!0})):(u(s()),!0)}function Fe(){for(var e in ue)if(0==ue[e].value){var r=De(e);if(!r&&!ue[e].required)continue;if("function"==typeof r)ue[e].value=Me(r,r.sig);else{if("number"!=typeof r)throw new Error("bad export type for `"+e+"`: "+l(r));ue[e].value=r}}}function Be(e,r,n,t){ne("Assertion failed: "+j(e)+", at: "+[r?j(r):"unknown filename",n,t?j(t):"unknown function"])}Be.sig="vppip";var ze=new WebAssembly.Global({value:"i32",mutable:!1},1024),Te=new WebAssembly.Global({value:"i32",mutable:!0},1084272),Ne=new WebAssembly.Global({value:"i32",mutable:!1},1);function Oe(){ne("")}Oe.sig="v";var je=[];function Ue(e,r,n){e-=1024;var t=function(e,r){var n;for(je.length=0,r>>=2;n=x[e++];)r+=105!=n&r,je.push(105==n?R[r]:(106==n?B:z)[r++>>1]),++r;return je}(r,n);return ae[e].apply(null,t)}function Le(e,r,n){x.copyWithin(e,r,r+n)}function Ie(e){try{return A.grow(e-P.byteLength+65535>>>16),I(A.buffer),1}catch(e){}}function We(e){var r=x.length,n=104857600;if((e>>>=0)>n)return!1;for(var t,o,i=1;i<=4;i*=2){var a=r+65536/i;if(Ie(Math.min(n,(t=Math.max(e,a))+((o=65536)-t%o)%o)))return!0}return!1}Ue.sig="ippp",Le.sig="vppp",We.sig="ip";var Ce={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,t=e.length-1;t>=0;t--){var o=e[t];"."===o?e.splice(t,1):".."===o?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:function(e){var r=Ce.isAbs(e),n="/"===e.substr(-1);return(e=Ce.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Ce.splitPath(e),n=r[0],t=r[1];return n||t?(t&&(t=t.substr(0,t.length-1)),n+t):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=Ce.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ce.normalize(e.join("/"))},join2:function(e,r){return Ce.normalize(e+"/"+r)}},qe={resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var t=n>=0?arguments[n]:Ye.cwd();if("string"!=typeof t)throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,r=Ce.isAbs(t)}return(r?"/":"")+(e=Ce.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function n(e){for(var r=0;r<e.length&&""===e[r];r++);for(var n=e.length-1;n>=0&&""===e[n];n--);return r>n?[]:e.slice(r,n-r+1)}e=qe.resolve(e).substr(1),r=qe.resolve(r).substr(1);for(var t=n(e.split("/")),o=n(r.split("/")),i=Math.min(t.length,o.length),a=i,s=0;s<i;s++)if(t[s]!==o[s]){a=s;break}var u=[];for(s=a;s<t.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}};function He(e,r,n){var t=n>0?n:L(e)+1,o=new Array(t),i=U(e,o,0,o.length);return r&&(o.length=i),o}var Ge={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){Ge.ttys[e]={input:[],output:[],ops:r},Ye.registerDevice(e,Ge.stream_ops)},stream_ops:{open:function(e){var r=Ge.ttys[e.node.rdev];if(!r)throw new Ye.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.get_char)throw new Ye.ErrnoError(60);for(var i=0,a=0;a<t;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ye.ErrnoError(29)}if(void 0===s&&0===i)throw new Ye.ErrnoError(6);if(null==s)break;i++,r[n+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.put_char)throw new Ye.ErrnoError(60);try{for(var i=0;i<t;i++)e.tty.ops.put_char(e.tty,r[n+i])}catch(e){throw new Ye.ErrnoError(29)}return t&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(v){var n=Buffer.alloc(256),t=0;try{t=s.readSync(process.stdin.fd,n,0,256,-1)}catch(e){if(!e.toString().includes("EOF"))throw e;t=0}r=t>0?n.slice(0,t).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n");if(!r)return null;e.input=He(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(b(O(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(b(O(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(_(O(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(_(O(e.output,0)),e.output=[])}}};function Xe(e){ne()}var Ke={ops_table:null,mount:function(e){return Ke.createNode(null,"/",16895,0)},createNode:function(e,r,n,t){if(Ye.isBlkdev(n)||Ye.isFIFO(n))throw new Ye.ErrnoError(63);Ke.ops_table||(Ke.ops_table={dir:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr,lookup:Ke.node_ops.lookup,mknod:Ke.node_ops.mknod,rename:Ke.node_ops.rename,unlink:Ke.node_ops.unlink,rmdir:Ke.node_ops.rmdir,readdir:Ke.node_ops.readdir,symlink:Ke.node_ops.symlink},stream:{llseek:Ke.stream_ops.llseek}},file:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr},stream:{llseek:Ke.stream_ops.llseek,read:Ke.stream_ops.read,write:Ke.stream_ops.write,allocate:Ke.stream_ops.allocate,mmap:Ke.stream_ops.mmap,msync:Ke.stream_ops.msync}},link:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr,readlink:Ke.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ke.node_ops.getattr,setattr:Ke.node_ops.setattr},stream:Ye.chrdev_stream_ops}});var o=Ye.createNode(e,r,n,t);return Ye.isDir(o.mode)?(o.node_ops=Ke.ops_table.dir.node,o.stream_ops=Ke.ops_table.dir.stream,o.contents={}):Ye.isFile(o.mode)?(o.node_ops=Ke.ops_table.file.node,o.stream_ops=Ke.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ye.isLink(o.mode)?(o.node_ops=Ke.ops_table.link.node,o.stream_ops=Ke.ops_table.link.stream):Ye.isChrdev(o.mode)&&(o.node_ops=Ke.ops_table.chrdev.node,o.stream_ops=Ke.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var n=e.contents?e.contents.length:0;if(!(n>=r)){r=Math.max(r,n*(n<1048576?2:1.125)>>>0),0!=n&&(r=Math.max(r,256));var t=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(t.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(r),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Ye.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Ye.isDir(e.mode)?r.size=4096:Ye.isFile(e.mode)?r.size=e.usedBytes:Ye.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&Ke.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Ye.genericErrors[44]},mknod:function(e,r,n,t){return Ke.createNode(e,r,n,t)},rename:function(e,r,n){if(Ye.isDir(e.mode)){var t;try{t=Ye.lookupNode(r,n)}catch(e){}if(t)for(var o in t.contents)throw new Ye.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,r.contents[n]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var n=Ye.lookupNode(e,r);for(var t in n.contents)throw new Ye.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var t=Ke.createNode(e,r,41471,0);return t.link=n,t},readlink:function(e){if(!Ye.isLink(e.mode))throw new Ye.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,n,t,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,t);if(a>8&&i.subarray)r.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)r[n+s]=i[o+s];return a},write:function(e,r,n,t,o,i){if(r.buffer===D.buffer&&(i=!1),!t)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=r.subarray(n,n+t),a.usedBytes=t,t;if(0===a.usedBytes&&0===o)return a.contents=r.slice(n,n+t),a.usedBytes=t,t;if(o+t<=a.usedBytes)return a.contents.set(r.subarray(n,n+t),o),t}if(Ke.expandFileStorage(a,o+t),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(n,n+t),o);else for(var s=0;s<t;s++)a.contents[o+s]=r[n+s];return a.usedBytes=Math.max(a.usedBytes,o+t),t},llseek:function(e,r,n){var t=r;if(1===n?t+=e.position:2===n&&Ye.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new Ye.ErrnoError(28);return t},allocate:function(e,r,n){Ke.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,t,o){if(!Ye.isFile(e.node.mode))throw new Ye.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||s.buffer!==P){if((n>0||n+r<s.length)&&(s=s.subarray?s.subarray(n,n+r):Array.prototype.slice.call(s,n,n+r)),a=!0,!(i=Xe()))throw new Ye.ErrnoError(48);D.set(s,i)}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:function(e,r,n,t,o){if(!Ye.isFile(e.node.mode))throw new Ye.ErrnoError(43);return 2&o||Ke.stream_ops.write(e,r,0,t,n,!1),0}}};function Ve(e,r,n,t){var o=t?"":"al "+e;i(e,(function(n){var t;t='Loading data file "'+e+'" failed (no arrayBuffer).',n||ne(t),r(new Uint8Array(n)),o&&re()}),(function(r){if(!n)throw'Loading data file "'+e+'" failed.';n()})),o&&ee()}var Ye={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=qe.resolve(Ye.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if((r=Object.assign(n,r)).recurse_count>8)throw new Ye.ErrnoError(32);for(var t=Ce.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=Ye.root,i="/",a=0;a<t.length;a++){var s=a===t.length-1;if(s&&r.parent)break;if(o=Ye.lookupNode(o,t[a]),i=Ce.join2(i,t[a]),Ye.isMountpoint(o)&&(!s||s&&r.follow_mount)&&(o=o.mounted.root),!s||r.follow)for(var u=0;Ye.isLink(o.mode);){var l=Ye.readlink(i);i=qe.resolve(Ce.dirname(i),l);var c=Ye.lookupPath(i,{recurse_count:r.recurse_count+1});if(o=c.node,u++>40)throw new Ye.ErrnoError(32)}}return{path:i,node:o}},getPath:function(e){for(var r;;){if(Ye.isRoot(e)){var n=e.mount.mountpoint;return r?"/"!==n[n.length-1]?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t)|0;return(e+n>>>0)%Ye.nameTable.length},hashAddNode:function(e){var r=Ye.hashName(e.parent.id,e.name);e.name_next=Ye.nameTable[r],Ye.nameTable[r]=e},hashRemoveNode:function(e){var r=Ye.hashName(e.parent.id,e.name);if(Ye.nameTable[r]===e)Ye.nameTable[r]=e.name_next;else for(var n=Ye.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=Ye.mayLookup(e);if(n)throw new Ye.ErrnoError(n,e);for(var t=Ye.hashName(e.id,r),o=Ye.nameTable[t];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===r)return o}return Ye.lookup(e,r)},createNode:function(e,r,n,t){var o=new Ye.FSNode(e,r,n,t);return Ye.hashAddNode(o),o},destroyNode:function(e){Ye.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=Ye.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Ye.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var r=Ye.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{return Ye.lookupNode(e,r),20}catch(e){}return Ye.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var t;try{t=Ye.lookupNode(e,r)}catch(e){return e.errno}var o=Ye.nodePermissions(e,"wx");if(o)return o;if(n){if(!Ye.isDir(t.mode))return 54;if(Ye.isRoot(t)||Ye.getPath(t)===Ye.cwd())return 10}else if(Ye.isDir(t.mode))return 31;return 0},mayOpen:function(e,r){return e?Ye.isLink(e.mode)?32:Ye.isDir(e.mode)&&("r"!==Ye.flagsToPermissionString(r)||512&r)?31:Ye.nodePermissions(e,Ye.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye.MAX_OPEN_FDS,n=e;n<=r;n++)if(!Ye.streams[n])return n;throw new Ye.ErrnoError(33)},getStream:function(e){return Ye.streams[e]},createStream:function(e,r,n){Ye.FSStream||(Ye.FSStream=function(){this.shared={}},Ye.FSStream.prototype={},Object.defineProperties(Ye.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Ye.FSStream,e);var t=Ye.nextfd(r,n);return e.fd=t,Ye.streams[t]=e,e},closeStream:function(e){Ye.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Ye.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ye.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Ye.devices[e]={stream_ops:r}},getDevice:function(e){return Ye.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var t=n.pop();r.push(t),n.push.apply(n,t.mounts)}return r},syncfs:function(e,r){"function"==typeof e&&(r=e,e=!1),Ye.syncFSRequests++,Ye.syncFSRequests>1&&_("warning: "+Ye.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Ye.getMounts(Ye.root.mount),t=0;function o(e){return Ye.syncFSRequests--,r(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++t>=n.length&&o(null)}n.forEach((function(r){if(!r.type.syncfs)return i(null);r.type.syncfs(r,e,i)}))},mount:function(e,r,n){var t,o="/"===n,i=!n;if(o&&Ye.root)throw new Ye.ErrnoError(10);if(!o&&!i){var a=Ye.lookupPath(n,{follow_mount:!1});if(n=a.path,t=a.node,Ye.isMountpoint(t))throw new Ye.ErrnoError(10);if(!Ye.isDir(t.mode))throw new Ye.ErrnoError(54)}var s={type:e,opts:r,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?Ye.root=u:t&&(t.mounted=s,t.mount&&t.mount.mounts.push(s)),u},unmount:function(e){var r=Ye.lookupPath(e,{follow_mount:!1});if(!Ye.isMountpoint(r.node))throw new Ye.ErrnoError(28);var n=r.node,t=n.mounted,o=Ye.getMounts(t);Object.keys(Ye.nameTable).forEach((function(e){for(var r=Ye.nameTable[e];r;){var n=r.name_next;o.includes(r.mount)&&Ye.destroyNode(r),r=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(t);n.mount.mounts.splice(i,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var t=Ye.lookupPath(e,{parent:!0}).node,o=Ce.basename(e);if(!o||"."===o||".."===o)throw new Ye.ErrnoError(28);var i=Ye.mayCreate(t,o);if(i)throw new Ye.ErrnoError(i);if(!t.node_ops.mknod)throw new Ye.ErrnoError(63);return t.node_ops.mknod(t,o,r,n)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Ye.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Ye.mknod(e,r,0)},mkdirTree:function(e,r){for(var n=e.split("/"),t="",o=0;o<n.length;++o)if(n[o]){t+="/"+n[o];try{Ye.mkdir(t,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,n){return void 0===n&&(n=r,r=438),r|=8192,Ye.mknod(e,r,n)},symlink:function(e,r){if(!qe.resolve(e))throw new Ye.ErrnoError(44);var n=Ye.lookupPath(r,{parent:!0}).node;if(!n)throw new Ye.ErrnoError(44);var t=Ce.basename(r),o=Ye.mayCreate(n,t);if(o)throw new Ye.ErrnoError(o);if(!n.node_ops.symlink)throw new Ye.ErrnoError(63);return n.node_ops.symlink(n,t,e)},rename:function(e,r){var n,t,o=Ce.dirname(e),i=Ce.dirname(r),a=Ce.basename(e),s=Ce.basename(r);if(n=Ye.lookupPath(e,{parent:!0}).node,t=Ye.lookupPath(r,{parent:!0}).node,!n||!t)throw new Ye.ErrnoError(44);if(n.mount!==t.mount)throw new Ye.ErrnoError(75);var u,l=Ye.lookupNode(n,a),c=qe.relative(e,i);if("."!==c.charAt(0))throw new Ye.ErrnoError(28);if("."!==(c=qe.relative(r,o)).charAt(0))throw new Ye.ErrnoError(55);try{u=Ye.lookupNode(t,s)}catch(e){}if(l!==u){var f=Ye.isDir(l.mode),d=Ye.mayDelete(n,a,f);if(d)throw new Ye.ErrnoError(d);if(d=u?Ye.mayDelete(t,s,f):Ye.mayCreate(t,s))throw new Ye.ErrnoError(d);if(!n.node_ops.rename)throw new Ye.ErrnoError(63);if(Ye.isMountpoint(l)||u&&Ye.isMountpoint(u))throw new Ye.ErrnoError(10);if(t!==n&&(d=Ye.nodePermissions(n,"w")))throw new Ye.ErrnoError(d);Ye.hashRemoveNode(l);try{n.node_ops.rename(l,t,s)}catch(e){throw e}finally{Ye.hashAddNode(l)}}},rmdir:function(e){var r=Ye.lookupPath(e,{parent:!0}).node,n=Ce.basename(e),t=Ye.lookupNode(r,n),o=Ye.mayDelete(r,n,!0);if(o)throw new Ye.ErrnoError(o);if(!r.node_ops.rmdir)throw new Ye.ErrnoError(63);if(Ye.isMountpoint(t))throw new Ye.ErrnoError(10);r.node_ops.rmdir(r,n),Ye.destroyNode(t)},readdir:function(e){var r=Ye.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Ye.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var r=Ye.lookupPath(e,{parent:!0}).node;if(!r)throw new Ye.ErrnoError(44);var n=Ce.basename(e),t=Ye.lookupNode(r,n),o=Ye.mayDelete(r,n,!1);if(o)throw new Ye.ErrnoError(o);if(!r.node_ops.unlink)throw new Ye.ErrnoError(63);if(Ye.isMountpoint(t))throw new Ye.ErrnoError(10);r.node_ops.unlink(r,n),Ye.destroyNode(t)},readlink:function(e){var r=Ye.lookupPath(e).node;if(!r)throw new Ye.ErrnoError(44);if(!r.node_ops.readlink)throw new Ye.ErrnoError(28);return qe.resolve(Ye.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var n=Ye.lookupPath(e,{follow:!r}).node;if(!n)throw new Ye.ErrnoError(44);if(!n.node_ops.getattr)throw new Ye.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ye.stat(e,!0)},chmod:function(e,r,n){var t;if(!(t="string"==typeof e?Ye.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Ye.ErrnoError(63);t.node_ops.setattr(t,{mode:4095&r|-4096&t.mode,timestamp:Date.now()})},lchmod:function(e,r){Ye.chmod(e,r,!0)},fchmod:function(e,r){var n=Ye.getStream(e);if(!n)throw new Ye.ErrnoError(8);Ye.chmod(n.node,r)},chown:function(e,r,n,t){var o;if(!(o="string"==typeof e?Ye.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new Ye.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,n){Ye.chown(e,r,n,!0)},fchown:function(e,r,n){var t=Ye.getStream(e);if(!t)throw new Ye.ErrnoError(8);Ye.chown(t.node,r,n)},truncate:function(e,r){if(r<0)throw new Ye.ErrnoError(28);var n;if(!(n="string"==typeof e?Ye.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ye.ErrnoError(63);if(Ye.isDir(n.mode))throw new Ye.ErrnoError(31);if(!Ye.isFile(n.mode))throw new Ye.ErrnoError(28);var t=Ye.nodePermissions(n,"w");if(t)throw new Ye.ErrnoError(t);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=Ye.getStream(e);if(!n)throw new Ye.ErrnoError(8);if(0==(2097155&n.flags))throw new Ye.ErrnoError(28);Ye.truncate(n.node,r)},utime:function(e,r,n){var t=Ye.lookupPath(e,{follow:!0}).node;t.node_ops.setattr(t,{timestamp:Math.max(r,n)})},open:function(e,r,n){if(""===e)throw new Ye.ErrnoError(44);var o;if(n=void 0===n?438:n,n=64&(r="string"==typeof r?Ye.modeStringToFlags(r):r)?4095&n|32768:0,"object"==l(e))o=e;else{e=Ce.normalize(e);try{o=Ye.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var i=!1;if(64&r)if(o){if(128&r)throw new Ye.ErrnoError(20)}else o=Ye.mknod(e,n,0),i=!0;if(!o)throw new Ye.ErrnoError(44);if(Ye.isChrdev(o.mode)&&(r&=-513),65536&r&&!Ye.isDir(o.mode))throw new Ye.ErrnoError(54);if(!i){var a=Ye.mayOpen(o,r);if(a)throw new Ye.ErrnoError(a)}512&r&&!i&&Ye.truncate(o,0),r&=-131713;var s=Ye.createStream({node:o,path:Ye.getPath(o),flags:r,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!t.logReadFiles||1&r||(Ye.readFiles||(Ye.readFiles={}),e in Ye.readFiles||(Ye.readFiles[e]=1)),s},close:function(e){if(Ye.isClosed(e))throw new Ye.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ye.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,n){if(Ye.isClosed(e))throw new Ye.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ye.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Ye.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,t,o){if(t<0||o<0)throw new Ye.ErrnoError(28);if(Ye.isClosed(e))throw new Ye.ErrnoError(8);if(1==(2097155&e.flags))throw new Ye.ErrnoError(8);if(Ye.isDir(e.node.mode))throw new Ye.ErrnoError(31);if(!e.stream_ops.read)throw new Ye.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new Ye.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,r,n,t,o);return i||(e.position+=a),a},write:function(e,r,n,t,o,i){if(t<0||o<0)throw new Ye.ErrnoError(28);if(Ye.isClosed(e))throw new Ye.ErrnoError(8);if(0==(2097155&e.flags))throw new Ye.ErrnoError(8);if(Ye.isDir(e.node.mode))throw new Ye.ErrnoError(31);if(!e.stream_ops.write)throw new Ye.ErrnoError(28);e.seekable&&1024&e.flags&&Ye.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ye.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,r,n,t,o,i);return a||(e.position+=s),s},allocate:function(e,r,n){if(Ye.isClosed(e))throw new Ye.ErrnoError(8);if(r<0||n<=0)throw new Ye.ErrnoError(28);if(0==(2097155&e.flags))throw new Ye.ErrnoError(8);if(!Ye.isFile(e.node.mode)&&!Ye.isDir(e.node.mode))throw new Ye.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ye.ErrnoError(138);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,t,o){if(0!=(2&t)&&0==(2&o)&&2!=(2097155&e.flags))throw new Ye.ErrnoError(2);if(1==(2097155&e.flags))throw new Ye.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ye.ErrnoError(43);return e.stream_ops.mmap(e,r,n,t,o)},msync:function(e,r,n,t,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,n,t,o):0},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new Ye.ErrnoError(59);return e.stream_ops.ioctl(e,r,n)},readFile:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var t=Ye.open(e,n.flags),o=Ye.stat(e),i=o.size,a=new Uint8Array(i);return Ye.read(t,a,0,i,0),"utf8"===n.encoding?r=O(a,0):"binary"===n.encoding&&(r=a),Ye.close(t),r},writeFile:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var t=Ye.open(e,n.flags,n.mode);if("string"==typeof r){var o=new Uint8Array(L(r)+1),i=U(r,o,0,o.length);Ye.write(t,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Ye.write(t,r,0,r.byteLength,void 0,n.canOwn)}Ye.close(t)},cwd:function(){return Ye.currentPath},chdir:function(e){var r=Ye.lookupPath(e,{follow:!0});if(null===r.node)throw new Ye.ErrnoError(44);if(!Ye.isDir(r.node.mode))throw new Ye.ErrnoError(54);var n=Ye.nodePermissions(r.node,"x");if(n)throw new Ye.ErrnoError(n);Ye.currentPath=r.path},createDefaultDirectories:function(){Ye.mkdir("/tmp"),Ye.mkdir("/home"),Ye.mkdir("/home/web_user")},createDefaultDevices:function(){Ye.mkdir("/dev"),Ye.registerDevice(Ye.makedev(1,3),{read:function(){return 0},write:function(e,r,n,t,o){return t}}),Ye.mkdev("/dev/null",Ye.makedev(1,3)),Ge.register(Ye.makedev(5,0),Ge.default_tty_ops),Ge.register(Ye.makedev(6,0),Ge.default_tty1_ops),Ye.mkdev("/dev/tty",Ye.makedev(5,0)),Ye.mkdev("/dev/tty1",Ye.makedev(6,0));var e=function(){if("object"==("undefined"==typeof crypto?"undefined":l(crypto))&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(v)try{var r=require("crypto");return function(){return r.randomBytes(1)[0]}}catch(e){}return function(){return ne("randomDevice")}}();Ye.createDevice("/dev","random",e),Ye.createDevice("/dev","urandom",e),Ye.mkdir("/dev/shm"),Ye.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ye.mkdir("/proc");var e=Ye.mkdir("/proc/self");Ye.mkdir("/proc/self/fd"),Ye.mount({mount:function(){var r=Ye.createNode(e,"fd",16895,73);return r.node_ops={lookup:function(e,r){var n=+r,t=Ye.getStream(n);if(!t)throw new Ye.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:function(){t.stdin?Ye.createDevice("/dev","stdin",t.stdin):Ye.symlink("/dev/tty","/dev/stdin"),t.stdout?Ye.createDevice("/dev","stdout",null,t.stdout):Ye.symlink("/dev/tty","/dev/stdout"),t.stderr?Ye.createDevice("/dev","stderr",null,t.stderr):Ye.symlink("/dev/tty1","/dev/stderr"),Ye.open("/dev/stdin",0),Ye.open("/dev/stdout",1),Ye.open("/dev/stderr",1)},ensureErrnoError:function(){Ye.ErrnoError||(Ye.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ye.ErrnoError.prototype=new Error,Ye.ErrnoError.prototype.constructor=Ye.ErrnoError,[44].forEach((function(e){Ye.genericErrors[e]=new Ye.ErrnoError(e),Ye.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ye.ensureErrnoError(),Ye.nameTable=new Array(4096),Ye.mount(Ke,{},"/"),Ye.createDefaultDirectories(),Ye.createDefaultDevices(),Ye.createSpecialDirectories(),Ye.filesystems={MEMFS:Ke}},init:function(e,r,n){Ye.init.initialized=!0,Ye.ensureErrnoError(),t.stdin=e||t.stdin,t.stdout=r||t.stdout,t.stderr=n||t.stderr,Ye.createStandardStreams()},quit:function(){Ye.init.initialized=!1;for(var e=0;e<Ye.streams.length;e++){var r=Ye.streams[e];r&&Ye.close(r)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},findObject:function(e,r){var n=Ye.analyzePath(e,r);return n.exists?n.object:null},analyzePath:function(e,r){try{e=(t=Ye.lookupPath(e,{follow:!r})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=Ye.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=Ce.basename(e),t=Ye.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot="/"===t.path}catch(e){n.error=e.errno}return n},createPath:function(e,r,n,t){e="string"==typeof e?e:Ye.getPath(e);for(var o=r.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Ce.join2(e,i);try{Ye.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,r,n,t,o){var i=Ce.join2("string"==typeof e?e:Ye.getPath(e),r),a=Ye.getMode(t,o);return Ye.create(i,a)},createDataFile:function(e,r,n,t,o,i){var a=r;e&&(e="string"==typeof e?e:Ye.getPath(e),a=r?Ce.join2(e,r):e);var s=Ye.getMode(t,o),u=Ye.create(a,s);if(n){if("string"==typeof n){for(var l=new Array(n.length),c=0,f=n.length;c<f;++c)l[c]=n.charCodeAt(c);n=l}Ye.chmod(u,146|s);var d=Ye.open(u,577);Ye.write(d,n,0,n.length,0,i),Ye.close(d),Ye.chmod(u,s)}return u},createDevice:function(e,r,n,t){var o=Ce.join2("string"==typeof e?e:Ye.getPath(e),r),i=Ye.getMode(!!n,!!t);Ye.createDevice.major||(Ye.createDevice.major=64);var a=Ye.makedev(Ye.createDevice.major++,0);return Ye.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,r,t,o,i){for(var a=0,s=0;s<o;s++){var u;try{u=n()}catch(e){throw new Ye.ErrnoError(29)}if(void 0===u&&0===a)throw new Ye.ErrnoError(6);if(null==u)break;a++,r[t+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,n,o,i){for(var a=0;a<o;a++)try{t(r[n+a])}catch(e){throw new Ye.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ye.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=He(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ye.ErrnoError(29)}},createLazyFile:function(e,r,n,t,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[r]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var r,t=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,i=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;o||(a=t);var s=this;s.setDataGetter((function(e){var r=e*a,o=(e+1)*a-1;if(o=Math.min(o,t-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>t-1)throw new Error("only "+t+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),t!==a&&o.setRequestHeader("Range","bytes="+e+"-"+r),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):He(o.responseText||"",!0)}(r,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&t||(a=t=1,t=this.getter(0).length,a=t,b("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var u=Ye.createFile(e,r,s,t,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var l={};function c(e,r,n,t,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,t);if(i.slice)for(var s=0;s<a;s++)r[n+s]=i[o+s];else for(s=0;s<a;s++)r[n+s]=i.get(o+s);return a}return Object.keys(u.stream_ops).forEach((function(e){var r=u.stream_ops[e];l[e]=function(){return Ye.forceLoadFile(u),r.apply(null,arguments)}})),l.read=function(e,r,n,t,o){return Ye.forceLoadFile(u),c(e,r,n,t,o)},l.mmap=function(e,r,n,t,o){Ye.forceLoadFile(u);var i=Xe();if(!i)throw new Ye.ErrnoError(48);return c(e,D,i,r,n),{ptr:i,allocated:!0}},u.stream_ops=l,u},createPreloadedFile:function(e,r,n,t,o,i,a,s,u,l){var c=r?qe.resolve(Ce.join2(e,r)):e;function f(n){function f(n){l&&l(),s||Ye.createDataFile(e,r,n,t,o,u),i&&i(),re()}Browser.handledByPreloadPlugin(n,c,f,(function(){a&&a(),re()}))||f(n)}ee(),"string"==typeof n?Ve(n,(function(e){return f(e)}),a):f(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=Ye.indexedDB();try{var o=t.open(Ye.DB_NAME(),Ye.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=function(){b("creating db"),o.result.createObjectStore(Ye.DB_STORE_NAME)},o.onsuccess=function(){var t=o.result.transaction([Ye.DB_STORE_NAME],"readwrite"),i=t.objectStore(Ye.DB_STORE_NAME),a=0,s=0,u=e.length;function l(){0==s?r():n()}e.forEach((function(e){var r=i.put(Ye.analyzePath(e).object.contents,e);r.onsuccess=function(){++a+s==u&&l()},r.onerror=function(){s++,a+s==u&&l()}})),t.onerror=n},o.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=Ye.indexedDB();try{var o=t.open(Ye.DB_NAME(),Ye.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=n,o.onsuccess=function(){var t=o.result;try{var i=t.transaction([Ye.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=i.objectStore(Ye.DB_STORE_NAME),s=0,u=0,l=e.length;function c(){0==u?r():n()}e.forEach((function(e){var r=a.get(e);r.onsuccess=function(){Ye.analyzePath(e).exists&&Ye.unlink(e),Ye.createDataFile(Ce.dirname(e),Ce.basename(e),r.result,!0,!0,!0),++s+u==l&&c()},r.onerror=function(){u++,s+u==l&&c()}})),i.onerror=n},o.onerror=n}};function $e(e){M=e,Y()||(t.onExit&&t.onExit(e),T=!0),h(e,new se(e))}$e.sig="vi";var Je=function(e,r,n,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ye.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=t},Qe=365,Ze=146;Object.defineProperties(Je.prototype,{read:{get:function(){return(this.mode&Qe)===Qe},set:function(e){e?this.mode|=Qe:this.mode&=-366}},write:{get:function(){return(this.mode&Ze)===Ze},set:function(e){e?this.mode|=Ze:this.mode&=-147}},isFolder:{get:function(){return Ye.isDir(this.mode)}},isDevice:{get:function(){return Ye.isChrdev(this.mode)}}}),Ye.FSNode=Je,Ye.staticInit();var er={__assert_fail:Be,__heap_base:ge,__indirect_function_table:C,__memory_base:ze,__stack_pointer:Te,__table_base:Ne,abort:Oe,emscripten_asm_const_int:Ue,emscripten_memcpy_big:Le,emscripten_resize_heap:We,memory:A};!function(){var e={env:er,wasi_snapshot_preview1:er,"GOT.mem":new Proxy(er,ce),"GOT.func":new Proxy(er,ce)};function r(e,r){var n=e.exports;n=Pe(n,1024),t.asm=n;var o,i=de(r);i.neededDynlibs&&(k=i.neededDynlibs.concat(k)),pe(n),o=t.asm.__wasm_call_ctors,H.unshift(o),K.push(t.asm.__wasm_apply_data_relocs),re()}function o(e){r(e.instance,e.module)}function a(r){return function(){if(!E&&(w||y)){if("function"==typeof fetch&&!oe($))return fetch($,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+$+"'";return e.arrayBuffer()})).catch((function(){return ie($)}));if(i)return new Promise((function(e,r){i($,(function(r){e(new Uint8Array(r))}),r)}))}return Promise.resolve().then((function(){return ie($)}))}().then((function(r){return WebAssembly.instantiate(r,e)})).then((function(e){return e})).then(r,(function(e){_("failed to asynchronously prepare wasm: "+e),ne(e)}))}if(ee(),t.instantiateWasm)try{return t.instantiateWasm(e,r)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(E||"function"!=typeof WebAssembly.instantiateStreaming||te($)||oe($)||v||"function"!=typeof fetch?a(o):fetch($,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(o,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),a(o)}))}))).catch(n)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},t.___wasm_apply_data_relocs=function(){return(t.___wasm_apply_data_relocs=t.asm.__wasm_apply_data_relocs).apply(null,arguments)};var rr=t._malloc=function(){return(rr=t._malloc=t.asm.malloc).apply(null,arguments)};t._sha512=function(){return(t._sha512=t.asm.sha512).apply(null,arguments)},t._random_bytes=function(){return(t._random_bytes=t.asm.random_bytes).apply(null,arguments)},t._argon2=function(){return(t._argon2=t.asm.argon2).apply(null,arguments)},t._new_keypair=function(){return(t._new_keypair=t.asm.new_keypair).apply(null,arguments)},t._keypair_from_seed=function(){return(t._keypair_from_seed=t.asm.keypair_from_seed).apply(null,arguments)},t._keypair_from_secret_key=function(){return(t._keypair_from_secret_key=t.asm.keypair_from_secret_key).apply(null,arguments)},t._sign_data=function(){return(t._sign_data=t.asm.sign_data).apply(null,arguments)},t._verify_data=function(){return(t._verify_data=t.asm.verify_data).apply(null,arguments)},t._calculate_nonce=function(){return(t._calculate_nonce=t.asm.calculate_nonce).apply(null,arguments)},t._encrypt_data=function(){return(t._encrypt_data=t.asm.encrypt_data).apply(null,arguments)},t._decrypt_data=function(){return(t._decrypt_data=t.asm.decrypt_data).apply(null,arguments)};var nr,tr=t._setThrew=function(){return(tr=t._setThrew=t.asm.setThrew).apply(null,arguments)},or=t.stackSave=function(){return(or=t.stackSave=t.asm.stackSave).apply(null,arguments)},ir=t.stackRestore=function(){return(ir=t.stackRestore=t.asm.stackRestore).apply(null,arguments)},ar=t.stackAlloc=function(){return(ar=t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)};function sr(e){var r=t._main;if(r){(e=e||[]).unshift(p);var n,o=e.length,i=ar(4*(o+1)),a=i>>2;e.forEach((function(e){R[a++]=function(e){var r=L(e)+1,n=ar(r);return U(e,D,n,r),n}(e)})),R[a]=0;try{var s=r(o,i);return M=n=s,$e(n),s}catch(e){return function(e){if(e instanceof se||"unwind"==e)return M;h(1,e)}(e)}}}Z=function e(){nr||lr(),nr||(Z=e)};var ur=!1;function lr(e){function n(){nr||(nr=!0,t.calledRun=!0,T||(V=!0,fe(K),t.noFSInit||Ye.init.initialized||Ye.init(),Ye.ignorePermissions=!1,fe(H),fe(G),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),cr&&sr(e),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),X.unshift(e);var e;fe(X)}()))}e=e||m,Q>0||!ur&&(k.length?(ee(),k.reduce((function(e,r){return e.then((function(){return Re(r,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){Fe(),re()}))):Fe(),ur=!0,Q>0)||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),q.unshift(e);var e;fe(q)}(),Q>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),n()}),1)):n()))}if(t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var cr=!0;return t.noInitialRun&&(cr=!1),lr(),e.ready});var d={newKeyPair:async e=>{const r=e?e.wasmMemory:u.newKeyPairMemory();let n=0;const t=new Uint8Array(r.buffer,n,a);n+=a;const o=new Uint8Array(r.buffer,n,s);if(0===(await f({wasmMemory:r}))._new_keypair(t.byteOffset,o.byteOffset))return{publicKey:t,secretKey:o};throw new Error("An unexpected error occured.")},keyPairFromSeed:async(e,r)=>{const n=r?r.wasmMemory:u.keyPairFromSeedMemory();let t=0;const o=new Uint8Array(n.buffer,t,a);t+=a;const i=new Uint8Array(n.buffer,t,s);t+=s;const l=new Uint8Array(n.buffer,t,32);l.set([...e]);if(0===(r||await f({wasmMemory:n}))._keypair_from_seed(o.byteOffset,i.byteOffset,l.byteOffset))return{publicKey:o,secretKey:i};throw new Error("An unexpected error occured.")},keyPairFromSecretKey:async(e,r)=>{const n=r?r.wasmMemory:u.keyPairFromSecretKeyMemory();let t=0;const o=new Uint8Array(n.buffer,t,a);t+=a;new Uint8Array(n.buffer,t,s).set([...e]);if(0===(await f({wasmMemory:n}))._keypair_from_secret_key(o.byteOffset,e.byteOffset))return{publicKey:o,secretKey:e};throw new Error("An unexpected error occured.")}};var m={keyPair:d,sign:async(e,r,n)=>{const t=e.length,o=n?n.wasmMemory:u.signMemory(t);let a=0;const l=new Uint8Array(o.buffer,a,t);l.set([...e]),a+=t;const c=new Uint8Array(o.buffer,a,i);a+=i;const d=new Uint8Array(o.buffer,a,s);d.set([...r]);return(n||await f({wasmMemory:o}))._sign_data(t,l.byteOffset,c.byteOffset,d.byteOffset),new Uint8Array([...c])},verify:async(e,r,n,t)=>{const o=e.length,s=t?t.wasmMemory:u.verifyMemory(o);let l=0;const c=new Uint8Array(s.buffer,l,o);c.set([...e]),l+=o;const d=new Uint8Array(s.buffer,l,i);d.set([...r]),l+=i;const m=new Uint8Array(s.buffer,l,a);m.set([...n]);return 0===(await f({wasmMemory:s}))._verify_data(o,c.byteOffset,d.byteOffset,m.byteOffset)},encrypt:async(e,r,n,t)=>{const o=e.length,i=n.length,s=t?t.wasmMemory:u.encryptMemory(o,i),l=44+o+16;let c=0;const d=new Uint8Array(s.buffer,c,o);d.set([...e]),c+=o;const m=new Uint8Array(s.buffer,c,a);m.set([...r]),c+=a;const p=new Uint8Array(s.buffer,c,i);p.set([...n]),c+=i;const h=new Uint8Array(s.buffer,c,l*Uint8Array.BYTES_PER_ELEMENT);switch((t||await f({wasmMemory:s}))._encrypt_data(o,d.byteOffset,m.byteOffset,i,p.byteOffset,h.byteOffset)){case 0:return new Uint8Array([...h]);case-1:throw new Error("Could not convert Ed25519 public key to X25519.");case-2:throw new Error("Could not create a shared secret.");default:throw new Error("An unexpected error occured.")}},decrypt:async(e,r,n,i)=>{const a=e.length,l=n.length,c=i?i.wasmMemory:u.decryptMemory(a,l),d=a-t-o-16;let m=0;const p=new Uint8Array(c.buffer,m,a);p.set([...e]),m+=a;const h=new Uint8Array(c.buffer,m,s);h.set([...r]),m+=s;const w=new Uint8Array(c.buffer,m,l);w.set([...n]),m+=l;const y=new Uint8Array(c.buffer,m,d*Uint8Array.BYTES_PER_ELEMENT);switch((i||await f({wasmMemory:c}))._decrypt_data(a,p.byteOffset,h.byteOffset,l,w.byteOffset,y.byteOffset)){case 0:return y;case-1:throw new Error("Decrypted data len will be <= 0.");case-2:throw new Error("Could not create successful key exchange");case-3:throw new Error("Invalid ephemeral key signature");case-4:throw new Error("Unsuccessful decryption attempt");default:throw new Error("Unexpected error occured")}},memory:u},p=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];var h={randomBytesMemory:e=>{const n=e*Uint8Array.BYTES_PER_ELEMENT,t=r(n);return new WebAssembly.Memory({initial:t,maximum:t})},randomNumberInRangeMemory:(e,n)=>{const t=Math.ceil(Math.log2(n-e)/8)*Uint8Array.BYTES_PER_ELEMENT,o=r(t);return new WebAssembly.Memory({initial:o,maximum:o})}};const w=async(e,r)=>{const n=r?r.wasmMemory:h.randomBytesMemory(e),t=new Uint8Array(n.buffer,0,e);if(0===(r||await f({wasmMemory:n}))._random_bytes(e,t.byteOffset))return new Uint8Array([...t]);throw new Error("Could not generate random data")};var y={sha512Memory:e=>{const t=(e+n)*Uint8Array.BYTES_PER_ELEMENT,o=r(t);return new WebAssembly.Memory({initial:o,maximum:o})},merkleRootMemory:e=>{const t=(e+n)*Uint8Array.BYTES_PER_ELEMENT,o=r(t),i=192*Uint8Array.BYTES_PER_ELEMENT,a=r(i);return{initialMemory:new WebAssembly.Memory({initial:o,maximum:o}),subsequentMemory:new WebAssembly.Memory({initial:a,maximum:a})}}};const v=async(e,r)=>{const t=e.length,o=r?r.wasmMemory:y.sha512Memory(t);let i=0;const a=new Uint8Array(o.buffer,i,t);a.set([...e]),i+=t;const s=new Uint8Array(o.buffer,i,n);if(0===(r||await f({wasmMemory:o}))._sha512(t,a.byteOffset,s.byteOffset))return new Uint8Array([...s]);throw new Error("Could not hash the array.")},g=async e=>{try{return await(async e=>{if(!p)throw new Error("Could not load english wordlist");const r=(n=e,(n||"").normalize("NFKD")).split(" ");var n;if(r.length%3!=0)throw new Error("Number of words in mnemonic must be multiple of three.");const t=r.map((e=>{const r=p.indexOf(e);if(-1===r)throw new Error("Could not find word in wordlist.");return r.toString(2).padStart(11,"0")})).join(""),o=32*Math.floor(t.length/33),i=t.slice(0,o),a=t.slice(o),s=i.match(/(.{1,8})/g);if(!s)throw new Error("Invalid entropy bits.");const u=s.map((e=>parseInt(e,2)));if(u.length<16)throw new Error("Entropy length too small (less than 128 bits).");if(u.length>32)throw new Error("Entropy length too large (more than 256 bits).");if(u.length%4!=0)throw new Error("Entropy length must be a multiple of 4.");const l=u.length/4,c=(await v(Uint8Array.from([...u]))).reduce(((e,r)=>e+r.toString(2).padStart(8,"0")),"").slice(0,l);if(c!==a)throw new Error("Invalid checksum.");return!0})(e)}catch(e){return!1}};var b=e=>{const n=(78643200+e+32+16)*Uint8Array.BYTES_PER_ELEMENT,t=r(n);return new WebAssembly.Memory({initial:t,maximum:t})};var _={generateMnemonic:async e=>{if((e=e||128)%32!=0)throw new TypeError("Mnemonic strength needs to be multiple of 32.");if(!p)throw new Error("English wordlist could not be loaded.");const r=await w(e/8);if(r.length<16)throw new TypeError("Entropy length too small.");if(r.length>32)throw new TypeError("Entropy length too large.");if(r.length%4!=0)throw new TypeError("Entropy length is not multiple of 4.");const n=e/32,t=(r.reduce(((e,r)=>e+r.toString(2).padStart(8,"0")),"")+(await v(r)).reduce(((e,r)=>e+r.toString(2).padStart(8,"0")),"").slice(0,n)).match(/(.{1,11})/g);if(!t)throw new Error("Did not find enough 1s and 11s in binary format.");return t.map((e=>{const r=parseInt(e,2);return p[r]})).join(" ")},validateMnemonic:g,keyPairFromMnemonic:async e=>{if(!await g(e))throw new Error("Invalid mnemonic.");const r=await(async(e,r)=>{const n=(e||"").normalize("NFKD"),t=Buffer.from(n,"utf8"),o=Int8Array.from(t),i=o.length,a=await w(16),s=r?r.wasmMemory:b(i);let u=0;const l=new Uint8Array(s.buffer,u,32);u+=32;const c=new Int8Array(s.buffer,u,i);c.set([...o]),u+=i;const d=new Uint8Array(s.buffer,u,16);if(d.set([...a]),0===(r||await f({wasmMemory:s}))._argon2(i,l.byteOffset,c.byteOffset,d.byteOffset))return new Uint8Array([...l]);throw new Error("Could not generate argon2id for mnemonic.")})(e),n=await d.keyPairFromSeed(r);if(!n)throw new Error("Invalid seed from mnemonic.");return n}};var E={sha512:v,getMerkleRoot:async e=>{const r=e.length,n=e.map((e=>e.length)),t=n.indexOf(Math.max(...n)),{initialMemory:o,subsequentMemory:i}=y.merkleRootMemory(t),a=await f({wasmMemory:o}),s=await f({wasmMemory:i}),u=[],l=new Uint8Array(128);let c,d=r;for(;d>1;){c=d%2!=0;let n=0;if(d===r)do{const r=await v(e[n++],a);u.push(r)}while(n<d);n=0;do{c&&n===d-1?l.set([...u[2*n],...u[2*n]]):l.set([...u[2*n],...u[2*n+1]]);const e=await v(l,s);u[n++].set([...e])}while(2*n+1<d);u.length=Math.ceil(u.length/2),d=u.length}if(1===u.length)return u[0];throw new Error("Something went wrong")},memory:y};var k={splitSecretMemory:(e,n,t)=>{const o=(n*(e+1)*767+e+t)*Uint8Array.BYTES_PER_ELEMENT,i=r(o);return new WebAssembly.Memory({initial:i,maximum:i})},restoreSecretMemory:(e,n)=>{const t=(n*(e+1)*767+e+2*n)*Uint8Array.BYTES_PER_ELEMENT,o=r(t);return new WebAssembly.Memory({initial:o,maximum:o})}},A=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(e=e||__filename),function(r){var n,t,o=void 0!==(r=r||{})?r:{};o.ready=new Promise((function(e,r){n=e,t=r}));var i,a,s,u,c,f,d=Object.assign({},o),m=[],p="./this.program",h=function(e,r){throw r},w="object"==("undefined"==typeof window?"undefined":l(window)),y="function"==typeof importScripts,v="object"==("undefined"==typeof process?"undefined":l(process))&&"object"==l(process.versions)&&"string"==typeof process.versions.node,g="";v?(g=y?require("path").dirname(g)+"/":__dirname+"/",f=function(){c||(u=require("fs"),c=require("path"))},i=function(e,r){return f(),e=c.normalize(e),u.readFileSync(e,r?void 0:"utf8")},s=function(e){var r=i(e,!0);return r.buffer||(r=new Uint8Array(r)),r},a=function(e,r,n){f(),e=c.normalize(e),u.readFile(e,(function(e,t){e?n(e):r(t.buffer)}))},process.argv.length>1&&(p=process.argv[1].replace(/\\/g,"/")),m=process.argv.slice(2),h=function(e,r){if(V())throw process.exitCode=e,r;var n;(n=r)instanceof ae||_("exiting due to exception: "+n),process.exit(e)},o.inspect=function(){return"[Emscripten Module object]"}):(w||y)&&(y?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),e&&(g=e),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},y&&(s=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),a=function(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){200==t.status||0==t.status&&t.response?r(t.response):n()},t.onerror=n,t.send(null)});var b=o.print||console.log.bind(console),_=o.printErr||console.warn.bind(console);Object.assign(o,d),d=null,o.arguments&&(m=o.arguments),o.thisProgram&&(p=o.thisProgram),o.quit&&(h=o.quit);var E,k=o.dynamicLibraries||[];o.wasmBinary&&(E=o.wasmBinary);var A,S=o.noExitRuntime||!0;"object"!=("undefined"==typeof WebAssembly?"undefined":l(WebAssembly))&&Z("no native wasm support detected");var M,P=!1;var D,x,R,F,B,z,T,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,r,n){for(var t=r+n,o=r;e[o]&&!(o>=t);)++o;if(o-r>16&&e.buffer&&N)return N.decode(e.subarray(r,o));for(var i="";r<o;){var a=e[r++];if(128&a){var s=63&e[r++];if(192!=(224&a)){var u=63&e[r++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[r++])<65536)i+=String.fromCharCode(a);else{var l=a-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function j(e,r,n,t){if(!(t>0))return 0;for(var o=n,i=n+t-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=i)break;r[n++]=s}else if(s<=2047){if(n+1>=i)break;r[n++]=192|s>>6,r[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;r[n++]=224|s>>12,r[n++]=128|s>>6&63,r[n++]=128|63&s}else{if(n+3>=i)break;r[n++]=240|s>>18,r[n++]=128|s>>12&63,r[n++]=128|s>>6&63,r[n++]=128|63&s}}return r[n]=0,n-o}function U(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t<=127?r++:t<=2047?r+=2:t>=55296&&t<=57343?(r+=4,++n):r+=3}return r}function L(e){D=e,o.HEAP8=x=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=F=new Int32Array(e),o.HEAPU8=R=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=B=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=T=new Float64Array(e),o.HEAP64=z=new BigInt64Array(e),o.HEAPU64=new BigUint64Array(e)}var I=o.INITIAL_MEMORY||2097152;(A=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:I/65536,maximum:1600}))&&(D=A.buffer),I=D.byteLength,L(D);var W=new WebAssembly.Table({initial:5,element:"anyfunc"}),C=[],q=[],H=[],G=[],X=[],K=!1;function V(){return S}var Y=0,$=null;function J(e){Y++,o.monitorRunDependencies&&o.monitorRunDependencies(Y)}function Q(e){if(Y--,o.monitorRunDependencies&&o.monitorRunDependencies(Y),0==Y&&$){var r=$;$=null,r()}}function Z(e){o.onAbort&&o.onAbort(e),_(e="Aborted("+e+")"),P=!0,M=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw t(r),r}var ee,re;function ne(e){return e.startsWith("data:application/octet-stream;base64,")}function te(e){return e.startsWith("file://")}function oe(e){try{if(e==ee&&E)return new Uint8Array(E);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){Z(e)}}ne(ee="shamirMethodsModule.wasm")||(re=ee,ee=o.locateFile?o.locateFile(re,g):g+re);var ie={776:function(){return o.getRandomValue()},812:function(){if(void 0===o.getRandomValue)try{var e="object"===("undefined"==typeof window?"undefined":l(window))?window:self,r=void 0!==e.crypto?e.crypto:e.msCrypto,n=function(){var e=new Uint32Array(1);return r.getRandomValues(e),e[0]>>>0};n(),o.getRandomValue=n}catch(e){try{var t=require("crypto"),i=function(){var e=t.randomBytes(4);return(e[0]<<24|e[1]<<16|e[2]<<8|e[3])>>>0};i(),o.getRandomValue=i}catch(e){throw"No secure random number generator found"}}}};function ae(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}var se={},ue=new Set([]),le={get:function(e,r){var n=se[r];return n||(n=se[r]=new WebAssembly.Global({value:"i32",mutable:!0})),ue.has(r)||(n.required=!0),n}};function ce(e){for(;e.length>0;)e.shift()(o)}function fe(e){var r=0,n=0;function t(){for(var n=0,t=1;;){var o=e[r++];if(n+=(127&o)*t,t*=128,!(128&o))break}return n}function o(){var n=t();return O(e,(r+=n)-n,n)}function i(e,r){if(e)throw new Error(r)}var a="dylink.0";if(e instanceof WebAssembly.Module){var s=WebAssembly.Module.customSections(e,a);0===s.length&&(a="dylink",s=WebAssembly.Module.customSections(e,a)),i(0===s.length,"need dylink section"),n=(e=new Uint8Array(s[0])).length}else{i(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),i(0!==e[8],"need the dylink section to be first"),r=9;var u=t();n=r+u,a=o()}var l={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==a){l.memorySize=t(),l.memoryAlign=t(),l.tableSize=t(),l.tableAlign=t();for(var c=t(),f=0;f<c;++f){var d=o();l.neededDynlibs.push(d)}}else{i("dylink.0"!==a);for(;r<n;){var m=e[r++],p=t();if(1===m)l.memorySize=t(),l.memoryAlign=t(),l.tableSize=t(),l.tableAlign=t();else if(2===m)for(c=t(),f=0;f<c;++f)d=o(),l.neededDynlibs.push(d);else if(3===m)for(var h=t();h--;){var w=o();256&t()&&l.tlsExports.add(w)}else if(4===m)for(h=t();h--;){o();w=o();1==(3&t())&&l.weakImports.add(w)}else r+=p}}return l}function de(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore"].includes(e)?e:"_"+e}function me(e,r){for(var n in e)if(e.hasOwnProperty(n)){$e.hasOwnProperty(n)||($e[n]=e[n]);var t=de(n);o.hasOwnProperty(t)||(o[t]=e[n]),"__main_argc_argv"==n&&(o._main=e[n])}}var pe={loadedLibsByName:{},loadedLibsByHandle:{}},he=[];function we(e){var r=he[e];return r||(e>=he.length&&(he.length=e+1),he[e]=r=W.get(e)),r}function ye(e,r,n){return we(r).apply(null,n)}var ve=1051680;function ge(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors"].includes(e)}function be(e,r){e<128?r.push(e):r.push(e%128|128,e>>7)}function _e(e,r){if(Ee)for(var n=e;n<e+r;n++){var t=we(n);t&&Ee.set(t,n)}}var Ee=void 0,ke=[];function Ae(e,r){W.set(e,r),he[e]=W.get(e)}function Se(e,r){if(Ee||(Ee=new WeakMap,_e(0,W.length)),Ee.has(e))return Ee.get(e);var n=function(){if(ke.length)return ke.pop();try{W.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return W.length-1}();try{Ae(n,e)}catch(o){if(!(o instanceof TypeError))throw o;var t=function(e,r){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var r={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[r[e[0]]]},t=1;t<e.length;++t)n.parameters.push(r[e[t]]);return n}(r),e);var n=[1,96],t=r.slice(0,1),o=r.slice(1),i={i:127,p:127,j:126,f:125,d:124};be(o.length,n);for(var a=0;a<o.length;++a)n.push(i[o[a]]);"v"==t?n.push(0):n.push(1,i[t]);var s=[0,97,115,109,1,0,0,0,1];be(n.length,s),s.push.apply(s,n),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(s));return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,r);Ae(n,t)}return Ee.set(e,n),n}function Me(e,r,n){var t={};for(var o in e){var i=e[o];"object"==l(i)&&(i=i.value),"number"==typeof i&&(i+=r),t[o]=i}return function(e,r){for(var n in e)if(!ge(n)){var t=e[n];se[n]||(se[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(r||0==se[n].value)&&("function"==typeof t?se[n].value=Se(t):"number"==typeof t?se[n].value=t:"bigint"==typeof t?se[n].value=Number(t):_("unhandled export type for `"+n+"`: "+l(t)))}}(t,n),t}function Pe(e,r){var n;return n||(n=$e[e])&&n.stub&&(n=void 0),n||(n=o[de(e)]),!n&&e.startsWith("invoke_")&&(e.split("_")[1],n=function(){var e=er();try{return ye(0,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(rr(e),r!==r+0)throw r;Ze(1,0)}}),n}function De(e,r,n){var t=fe(e);function o(){var o,i;if(!n||!x[n+24>>0]){var a=Math.pow(2,t.memoryAlign);a=Math.max(a,16);var s=t.memorySize?(o=function(e){if(K)return Je(e);var r=ve,n=r+e+15&-16;return ve=n,se.__heap_base.value=n,r}(t.memorySize+a),i=a,Math.ceil(o/i)*i):0,u=t.tableSize?W.length:0;n&&(x[n+24>>0]=1,B[n+28>>2]=s,F[n+32>>2]=t.memorySize,B[n+36>>2]=u,F[n+40>>2]=t.tableSize)}else s=B[n+28>>2],u=B[n+36>>2];var l,c=u+t.tableSize-W.length;function f(e){var r=Pe(e);return r||(r=l[e]),r}c>0&&W.grow(c);var d={get:function(e,r){switch(r){case"__memory_base":return s;case"__table_base":return u}if(r in $e)return $e[r];var n;r in e||(e[r]=function(){return n||(n=f(r)),n.apply(null,arguments)});return e[r]}},m=new Proxy({},d),p={"GOT.mem":new Proxy({},le),"GOT.func":new Proxy({},le),env:m,wasi_snapshot_preview1:m};function h(e){_e(u,t.tableSize),l=Me(e.exports,s),r.allowUndefined||Re();var n=l.__wasm_call_ctors;n&&(K?n():q.push(n));var o=l.__wasm_apply_data_relocs;return o&&(K?o():X.push(o)),l}if(r.loadAsync){if(e instanceof WebAssembly.Module){var w=new WebAssembly.Instance(e,p);return Promise.resolve(h(w))}return WebAssembly.instantiate(e,p).then((function(e){return h(e.instance)}))}var y=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return h(w=new WebAssembly.Instance(y,p))}return ue=t.weakImports,r.loadAsync?t.neededDynlibs.reduce((function(e,n){return e.then((function(){return xe(n,r)}))}),Promise.resolve()).then((function(){return o()})):(t.neededDynlibs.forEach((function(e){xe(e,r)})),o())}function xe(e,r,n){r=r||{global:!0,nodelete:!0};var t=pe.loadedLibsByName[e];if(t)return r.global&&!t.global&&(t.global=!0,"loading"!==t.module&&me(t.module)),r.nodelete&&t.refcount!==1/0&&(t.refcount=1/0),t.refcount++,n&&(pe.loadedLibsByHandle[n]=t),!r.loadAsync||Promise.resolve(!0);function o(e){if(r.fs&&r.fs.findObject(e)){var n=r.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),r.loadAsync?Promise.resolve(n):n}if(r.loadAsync)return new Promise((function(r,n){a(e,(function(e){return r(new Uint8Array(e))}),n)}));if(!s)throw new Error(e+": file not found, and synchronous loading of external files is not available");return s(e)}function i(){if("undefined"!=typeof preloadedWasm&&preloadedWasm[e]){var t=preloadedWasm[e];return r.loadAsync?Promise.resolve(t):t}return r.loadAsync?o(e).then((function(e){return De(e,r,n)})):De(o(e),r,n)}function u(e){t.global&&me(e),t.module=e}return t={refcount:r.nodelete?1/0:1,name:e,module:"loading",global:r.global},pe.loadedLibsByName[e]=t,n&&(pe.loadedLibsByHandle[n]=t),r.loadAsync?i().then((function(e){return u(e),!0})):(u(i()),!0)}function Re(){for(var e in se)if(0==se[e].value){var r=Pe(e);if(!r&&!se[e].required)continue;if("function"==typeof r)se[e].value=Se(r,r.sig);else{if("number"!=typeof r)throw new Error("bad export type for `"+e+"`: "+l(r));se[e].value=r}}}var Fe=new WebAssembly.Global({value:"i32",mutable:!1},1024),Be=new WebAssembly.Global({value:"i32",mutable:!0},1051680),ze=new WebAssembly.Global({value:"i32",mutable:!1},1),Te=[];function Ne(e,r,n){e-=1024;var t=function(e,r){var n;for(Te.length=0,r>>=2;n=R[e++];)r+=105!=n&r,Te.push(105==n?F[r]:(106==n?z:T)[r++>>1]),++r;return Te}(r,n);return ie[e].apply(null,t)}function Oe(e){try{return A.grow(e-D.byteLength+65535>>>16),L(A.buffer),1}catch(e){}}function je(e){var r=R.length,n=104857600;if((e>>>=0)>n)return!1;for(var t,o,i=1;i<=4;i*=2){var a=r+65536/i;if(Oe(Math.min(n,(t=Math.max(e,a))+((o=65536)-t%o)%o)))return!0}return!1}Ne.sig="ippp",je.sig="ip";var Ue={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,t=e.length-1;t>=0;t--){var o=e[t];"."===o?e.splice(t,1):".."===o?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:function(e){var r=Ue.isAbs(e),n="/"===e.substr(-1);return(e=Ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Ue.splitPath(e),n=r[0],t=r[1];return n||t?(t&&(t=t.substr(0,t.length-1)),n+t):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=Ue.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ue.normalize(e.join("/"))},join2:function(e,r){return Ue.normalize(e+"/"+r)}};var Le={resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var t=n>=0?arguments[n]:Ge.cwd();if("string"!=typeof t)throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,r=Ue.isAbs(t)}return(r?"/":"")+(e=Ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function n(e){for(var r=0;r<e.length&&""===e[r];r++);for(var n=e.length-1;n>=0&&""===e[n];n--);return r>n?[]:e.slice(r,n-r+1)}e=Le.resolve(e).substr(1),r=Le.resolve(r).substr(1);for(var t=n(e.split("/")),o=n(r.split("/")),i=Math.min(t.length,o.length),a=i,s=0;s<i;s++)if(t[s]!==o[s]){a=s;break}var u=[];for(s=a;s<t.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}};function Ie(e,r,n){var t=n>0?n:U(e)+1,o=new Array(t),i=j(e,o,0,o.length);return r&&(o.length=i),o}var We={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){We.ttys[e]={input:[],output:[],ops:r},Ge.registerDevice(e,We.stream_ops)},stream_ops:{open:function(e){var r=We.ttys[e.node.rdev];if(!r)throw new Ge.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.get_char)throw new Ge.ErrnoError(60);for(var i=0,a=0;a<t;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ge.ErrnoError(29)}if(void 0===s&&0===i)throw new Ge.ErrnoError(6);if(null==s)break;i++,r[n+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.put_char)throw new Ge.ErrnoError(60);try{for(var i=0;i<t;i++)e.tty.ops.put_char(e.tty,r[n+i])}catch(e){throw new Ge.ErrnoError(29)}return t&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(v){var n=Buffer.alloc(256),t=0;try{t=u.readSync(process.stdin.fd,n,0,256,-1)}catch(e){if(!e.toString().includes("EOF"))throw e;t=0}r=t>0?n.slice(0,t).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n");if(!r)return null;e.input=Ie(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(b(O(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(b(O(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(_(O(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(_(O(e.output,0)),e.output=[])}}};function Ce(e){Z()}var qe={ops_table:null,mount:function(e){return qe.createNode(null,"/",16895,0)},createNode:function(e,r,n,t){if(Ge.isBlkdev(n)||Ge.isFIFO(n))throw new Ge.ErrnoError(63);qe.ops_table||(qe.ops_table={dir:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr,lookup:qe.node_ops.lookup,mknod:qe.node_ops.mknod,rename:qe.node_ops.rename,unlink:qe.node_ops.unlink,rmdir:qe.node_ops.rmdir,readdir:qe.node_ops.readdir,symlink:qe.node_ops.symlink},stream:{llseek:qe.stream_ops.llseek}},file:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr},stream:{llseek:qe.stream_ops.llseek,read:qe.stream_ops.read,write:qe.stream_ops.write,allocate:qe.stream_ops.allocate,mmap:qe.stream_ops.mmap,msync:qe.stream_ops.msync}},link:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr,readlink:qe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr},stream:Ge.chrdev_stream_ops}});var o=Ge.createNode(e,r,n,t);return Ge.isDir(o.mode)?(o.node_ops=qe.ops_table.dir.node,o.stream_ops=qe.ops_table.dir.stream,o.contents={}):Ge.isFile(o.mode)?(o.node_ops=qe.ops_table.file.node,o.stream_ops=qe.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ge.isLink(o.mode)?(o.node_ops=qe.ops_table.link.node,o.stream_ops=qe.ops_table.link.stream):Ge.isChrdev(o.mode)&&(o.node_ops=qe.ops_table.chrdev.node,o.stream_ops=qe.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var n=e.contents?e.contents.length:0;if(!(n>=r)){r=Math.max(r,n*(n<1048576?2:1.125)>>>0),0!=n&&(r=Math.max(r,256));var t=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(t.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(r),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Ge.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Ge.isDir(e.mode)?r.size=4096:Ge.isFile(e.mode)?r.size=e.usedBytes:Ge.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&qe.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Ge.genericErrors[44]},mknod:function(e,r,n,t){return qe.createNode(e,r,n,t)},rename:function(e,r,n){if(Ge.isDir(e.mode)){var t;try{t=Ge.lookupNode(r,n)}catch(e){}if(t)for(var o in t.contents)throw new Ge.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,r.contents[n]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var n=Ge.lookupNode(e,r);for(var t in n.contents)throw new Ge.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var t=qe.createNode(e,r,41471,0);return t.link=n,t},readlink:function(e){if(!Ge.isLink(e.mode))throw new Ge.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,n,t,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,t);if(a>8&&i.subarray)r.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)r[n+s]=i[o+s];return a},write:function(e,r,n,t,o,i){if(r.buffer===x.buffer&&(i=!1),!t)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=r.subarray(n,n+t),a.usedBytes=t,t;if(0===a.usedBytes&&0===o)return a.contents=r.slice(n,n+t),a.usedBytes=t,t;if(o+t<=a.usedBytes)return a.contents.set(r.subarray(n,n+t),o),t}if(qe.expandFileStorage(a,o+t),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(n,n+t),o);else for(var s=0;s<t;s++)a.contents[o+s]=r[n+s];return a.usedBytes=Math.max(a.usedBytes,o+t),t},llseek:function(e,r,n){var t=r;if(1===n?t+=e.position:2===n&&Ge.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new Ge.ErrnoError(28);return t},allocate:function(e,r,n){qe.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,t,o){if(!Ge.isFile(e.node.mode))throw new Ge.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||s.buffer!==D){if((n>0||n+r<s.length)&&(s=s.subarray?s.subarray(n,n+r):Array.prototype.slice.call(s,n,n+r)),a=!0,!(i=Ce()))throw new Ge.ErrnoError(48);x.set(s,i)}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:function(e,r,n,t,o){if(!Ge.isFile(e.node.mode))throw new Ge.ErrnoError(43);return 2&o||qe.stream_ops.write(e,r,0,t,n,!1),0}}};function He(e,r,n,t){var o=t?"":"al "+e;a(e,(function(n){var t;t='Loading data file "'+e+'" failed (no arrayBuffer).',n||Z(t),r(new Uint8Array(n)),o&&Q()}),(function(r){if(!n)throw'Loading data file "'+e+'" failed.';n()})),o&&J()}var Ge={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=Le.resolve(Ge.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if((r=Object.assign(n,r)).recurse_count>8)throw new Ge.ErrnoError(32);for(var t=Ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=Ge.root,i="/",a=0;a<t.length;a++){var s=a===t.length-1;if(s&&r.parent)break;if(o=Ge.lookupNode(o,t[a]),i=Ue.join2(i,t[a]),Ge.isMountpoint(o)&&(!s||s&&r.follow_mount)&&(o=o.mounted.root),!s||r.follow)for(var u=0;Ge.isLink(o.mode);){var l=Ge.readlink(i);i=Le.resolve(Ue.dirname(i),l);var c=Ge.lookupPath(i,{recurse_count:r.recurse_count+1});if(o=c.node,u++>40)throw new Ge.ErrnoError(32)}}return{path:i,node:o}},getPath:function(e){for(var r;;){if(Ge.isRoot(e)){var n=e.mount.mountpoint;return r?"/"!==n[n.length-1]?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t)|0;return(e+n>>>0)%Ge.nameTable.length},hashAddNode:function(e){var r=Ge.hashName(e.parent.id,e.name);e.name_next=Ge.nameTable[r],Ge.nameTable[r]=e},hashRemoveNode:function(e){var r=Ge.hashName(e.parent.id,e.name);if(Ge.nameTable[r]===e)Ge.nameTable[r]=e.name_next;else for(var n=Ge.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=Ge.mayLookup(e);if(n)throw new Ge.ErrnoError(n,e);for(var t=Ge.hashName(e.id,r),o=Ge.nameTable[t];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===r)return o}return Ge.lookup(e,r)},createNode:function(e,r,n,t){var o=new Ge.FSNode(e,r,n,t);return Ge.hashAddNode(o),o},destroyNode:function(e){Ge.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=Ge.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Ge.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var r=Ge.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{Ge.lookupNode(e,r);return 20}catch(e){}return Ge.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var t;try{t=Ge.lookupNode(e,r)}catch(e){return e.errno}var o=Ge.nodePermissions(e,"wx");if(o)return o;if(n){if(!Ge.isDir(t.mode))return 54;if(Ge.isRoot(t)||Ge.getPath(t)===Ge.cwd())return 10}else if(Ge.isDir(t.mode))return 31;return 0},mayOpen:function(e,r){return e?Ge.isLink(e.mode)?32:Ge.isDir(e.mode)&&("r"!==Ge.flagsToPermissionString(r)||512&r)?31:Ge.nodePermissions(e,Ge.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge.MAX_OPEN_FDS,n=e;n<=r;n++)if(!Ge.streams[n])return n;throw new Ge.ErrnoError(33)},getStream:function(e){return Ge.streams[e]},createStream:function(e,r,n){Ge.FSStream||(Ge.FSStream=function(){this.shared={}},Ge.FSStream.prototype={},Object.defineProperties(Ge.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Ge.FSStream,e);var t=Ge.nextfd(r,n);return e.fd=t,Ge.streams[t]=e,e},closeStream:function(e){Ge.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Ge.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ge.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Ge.devices[e]={stream_ops:r}},getDevice:function(e){return Ge.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var t=n.pop();r.push(t),n.push.apply(n,t.mounts)}return r},syncfs:function(e,r){"function"==typeof e&&(r=e,e=!1),Ge.syncFSRequests++,Ge.syncFSRequests>1&&_("warning: "+Ge.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Ge.getMounts(Ge.root.mount),t=0;function o(e){return Ge.syncFSRequests--,r(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++t>=n.length&&o(null)}n.forEach((function(r){if(!r.type.syncfs)return i(null);r.type.syncfs(r,e,i)}))},mount:function(e,r,n){var t,o="/"===n,i=!n;if(o&&Ge.root)throw new Ge.ErrnoError(10);if(!o&&!i){var a=Ge.lookupPath(n,{follow_mount:!1});if(n=a.path,t=a.node,Ge.isMountpoint(t))throw new Ge.ErrnoError(10);if(!Ge.isDir(t.mode))throw new Ge.ErrnoError(54)}var s={type:e,opts:r,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?Ge.root=u:t&&(t.mounted=s,t.mount&&t.mount.mounts.push(s)),u},unmount:function(e){var r=Ge.lookupPath(e,{follow_mount:!1});if(!Ge.isMountpoint(r.node))throw new Ge.ErrnoError(28);var n=r.node,t=n.mounted,o=Ge.getMounts(t);Object.keys(Ge.nameTable).forEach((function(e){for(var r=Ge.nameTable[e];r;){var n=r.name_next;o.includes(r.mount)&&Ge.destroyNode(r),r=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(t);n.mount.mounts.splice(i,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var t=Ge.lookupPath(e,{parent:!0}).node,o=Ue.basename(e);if(!o||"."===o||".."===o)throw new Ge.ErrnoError(28);var i=Ge.mayCreate(t,o);if(i)throw new Ge.ErrnoError(i);if(!t.node_ops.mknod)throw new Ge.ErrnoError(63);return t.node_ops.mknod(t,o,r,n)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Ge.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Ge.mknod(e,r,0)},mkdirTree:function(e,r){for(var n=e.split("/"),t="",o=0;o<n.length;++o)if(n[o]){t+="/"+n[o];try{Ge.mkdir(t,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,n){return void 0===n&&(n=r,r=438),r|=8192,Ge.mknod(e,r,n)},symlink:function(e,r){if(!Le.resolve(e))throw new Ge.ErrnoError(44);var n=Ge.lookupPath(r,{parent:!0}).node;if(!n)throw new Ge.ErrnoError(44);var t=Ue.basename(r),o=Ge.mayCreate(n,t);if(o)throw new Ge.ErrnoError(o);if(!n.node_ops.symlink)throw new Ge.ErrnoError(63);return n.node_ops.symlink(n,t,e)},rename:function(e,r){var n,t,o=Ue.dirname(e),i=Ue.dirname(r),a=Ue.basename(e),s=Ue.basename(r);if(n=Ge.lookupPath(e,{parent:!0}).node,t=Ge.lookupPath(r,{parent:!0}).node,!n||!t)throw new Ge.ErrnoError(44);if(n.mount!==t.mount)throw new Ge.ErrnoError(75);var u,l=Ge.lookupNode(n,a),c=Le.relative(e,i);if("."!==c.charAt(0))throw new Ge.ErrnoError(28);if("."!==(c=Le.relative(r,o)).charAt(0))throw new Ge.ErrnoError(55);try{u=Ge.lookupNode(t,s)}catch(e){}if(l!==u){var f=Ge.isDir(l.mode),d=Ge.mayDelete(n,a,f);if(d)throw new Ge.ErrnoError(d);if(d=u?Ge.mayDelete(t,s,f):Ge.mayCreate(t,s))throw new Ge.ErrnoError(d);if(!n.node_ops.rename)throw new Ge.ErrnoError(63);if(Ge.isMountpoint(l)||u&&Ge.isMountpoint(u))throw new Ge.ErrnoError(10);if(t!==n&&(d=Ge.nodePermissions(n,"w")))throw new Ge.ErrnoError(d);Ge.hashRemoveNode(l);try{n.node_ops.rename(l,t,s)}catch(e){throw e}finally{Ge.hashAddNode(l)}}},rmdir:function(e){var r=Ge.lookupPath(e,{parent:!0}).node,n=Ue.basename(e),t=Ge.lookupNode(r,n),o=Ge.mayDelete(r,n,!0);if(o)throw new Ge.ErrnoError(o);if(!r.node_ops.rmdir)throw new Ge.ErrnoError(63);if(Ge.isMountpoint(t))throw new Ge.ErrnoError(10);r.node_ops.rmdir(r,n),Ge.destroyNode(t)},readdir:function(e){var r=Ge.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Ge.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var r=Ge.lookupPath(e,{parent:!0}).node;if(!r)throw new Ge.ErrnoError(44);var n=Ue.basename(e),t=Ge.lookupNode(r,n),o=Ge.mayDelete(r,n,!1);if(o)throw new Ge.ErrnoError(o);if(!r.node_ops.unlink)throw new Ge.ErrnoError(63);if(Ge.isMountpoint(t))throw new Ge.ErrnoError(10);r.node_ops.unlink(r,n),Ge.destroyNode(t)},readlink:function(e){var r=Ge.lookupPath(e).node;if(!r)throw new Ge.ErrnoError(44);if(!r.node_ops.readlink)throw new Ge.ErrnoError(28);return Le.resolve(Ge.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var n=Ge.lookupPath(e,{follow:!r}).node;if(!n)throw new Ge.ErrnoError(44);if(!n.node_ops.getattr)throw new Ge.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ge.stat(e,!0)},chmod:function(e,r,n){var t;"string"==typeof e?t=Ge.lookupPath(e,{follow:!n}).node:t=e;if(!t.node_ops.setattr)throw new Ge.ErrnoError(63);t.node_ops.setattr(t,{mode:4095&r|-4096&t.mode,timestamp:Date.now()})},lchmod:function(e,r){Ge.chmod(e,r,!0)},fchmod:function(e,r){var n=Ge.getStream(e);if(!n)throw new Ge.ErrnoError(8);Ge.chmod(n.node,r)},chown:function(e,r,n,t){var o;"string"==typeof e?o=Ge.lookupPath(e,{follow:!t}).node:o=e;if(!o.node_ops.setattr)throw new Ge.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,n){Ge.chown(e,r,n,!0)},fchown:function(e,r,n){var t=Ge.getStream(e);if(!t)throw new Ge.ErrnoError(8);Ge.chown(t.node,r,n)},truncate:function(e,r){if(r<0)throw new Ge.ErrnoError(28);var n;"string"==typeof e?n=Ge.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new Ge.ErrnoError(63);if(Ge.isDir(n.mode))throw new Ge.ErrnoError(31);if(!Ge.isFile(n.mode))throw new Ge.ErrnoError(28);var t=Ge.nodePermissions(n,"w");if(t)throw new Ge.ErrnoError(t);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=Ge.getStream(e);if(!n)throw new Ge.ErrnoError(8);if(0==(2097155&n.flags))throw new Ge.ErrnoError(28);Ge.truncate(n.node,r)},utime:function(e,r,n){var t=Ge.lookupPath(e,{follow:!0}).node;t.node_ops.setattr(t,{timestamp:Math.max(r,n)})},open:function(e,r,n){if(""===e)throw new Ge.ErrnoError(44);var t;if(n=void 0===n?438:n,n=64&(r="string"==typeof r?Ge.modeStringToFlags(r):r)?4095&n|32768:0,"object"==l(e))t=e;else{e=Ue.normalize(e);try{t=Ge.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var i=!1;if(64&r)if(t){if(128&r)throw new Ge.ErrnoError(20)}else t=Ge.mknod(e,n,0),i=!0;if(!t)throw new Ge.ErrnoError(44);if(Ge.isChrdev(t.mode)&&(r&=-513),65536&r&&!Ge.isDir(t.mode))throw new Ge.ErrnoError(54);if(!i){var a=Ge.mayOpen(t,r);if(a)throw new Ge.ErrnoError(a)}512&r&&!i&&Ge.truncate(t,0),r&=-131713;var s=Ge.createStream({node:t,path:Ge.getPath(t),flags:r,seekable:!0,position:0,stream_ops:t.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!o.logReadFiles||1&r||(Ge.readFiles||(Ge.readFiles={}),e in Ge.readFiles||(Ge.readFiles[e]=1)),s},close:function(e){if(Ge.isClosed(e))throw new Ge.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ge.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,n){if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ge.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Ge.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,t,o){if(t<0||o<0)throw new Ge.ErrnoError(28);if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(1==(2097155&e.flags))throw new Ge.ErrnoError(8);if(Ge.isDir(e.node.mode))throw new Ge.ErrnoError(31);if(!e.stream_ops.read)throw new Ge.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new Ge.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,r,n,t,o);return i||(e.position+=a),a},write:function(e,r,n,t,o,i){if(t<0||o<0)throw new Ge.ErrnoError(28);if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(0==(2097155&e.flags))throw new Ge.ErrnoError(8);if(Ge.isDir(e.node.mode))throw new Ge.ErrnoError(31);if(!e.stream_ops.write)throw new Ge.ErrnoError(28);e.seekable&&1024&e.flags&&Ge.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ge.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,r,n,t,o,i);return a||(e.position+=s),s},allocate:function(e,r,n){if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(r<0||n<=0)throw new Ge.ErrnoError(28);if(0==(2097155&e.flags))throw new Ge.ErrnoError(8);if(!Ge.isFile(e.node.mode)&&!Ge.isDir(e.node.mode))throw new Ge.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ge.ErrnoError(138);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,t,o){if(0!=(2&t)&&0==(2&o)&&2!=(2097155&e.flags))throw new Ge.ErrnoError(2);if(1==(2097155&e.flags))throw new Ge.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ge.ErrnoError(43);return e.stream_ops.mmap(e,r,n,t,o)},msync:function(e,r,n,t,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,n,t,o):0},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new Ge.ErrnoError(59);return e.stream_ops.ioctl(e,r,n)},readFile:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var t=Ge.open(e,n.flags),o=Ge.stat(e),i=o.size,a=new Uint8Array(i);return Ge.read(t,a,0,i,0),"utf8"===n.encoding?r=O(a,0):"binary"===n.encoding&&(r=a),Ge.close(t),r},writeFile:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var t=Ge.open(e,n.flags,n.mode);if("string"==typeof r){var o=new Uint8Array(U(r)+1),i=j(r,o,0,o.length);Ge.write(t,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Ge.write(t,r,0,r.byteLength,void 0,n.canOwn)}Ge.close(t)},cwd:function(){return Ge.currentPath},chdir:function(e){var r=Ge.lookupPath(e,{follow:!0});if(null===r.node)throw new Ge.ErrnoError(44);if(!Ge.isDir(r.node.mode))throw new Ge.ErrnoError(54);var n=Ge.nodePermissions(r.node,"x");if(n)throw new Ge.ErrnoError(n);Ge.currentPath=r.path},createDefaultDirectories:function(){Ge.mkdir("/tmp"),Ge.mkdir("/home"),Ge.mkdir("/home/web_user")},createDefaultDevices:function(){Ge.mkdir("/dev"),Ge.registerDevice(Ge.makedev(1,3),{read:function(){return 0},write:function(e,r,n,t,o){return t}}),Ge.mkdev("/dev/null",Ge.makedev(1,3)),We.register(Ge.makedev(5,0),We.default_tty_ops),We.register(Ge.makedev(6,0),We.default_tty1_ops),Ge.mkdev("/dev/tty",Ge.makedev(5,0)),Ge.mkdev("/dev/tty1",Ge.makedev(6,0));var e=function(){if("object"==("undefined"==typeof crypto?"undefined":l(crypto))&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(v)try{var r=require("crypto");return function(){return r.randomBytes(1)[0]}}catch(e){}return function(){return Z("randomDevice")}}();Ge.createDevice("/dev","random",e),Ge.createDevice("/dev","urandom",e),Ge.mkdir("/dev/shm"),Ge.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ge.mkdir("/proc");var e=Ge.mkdir("/proc/self");Ge.mkdir("/proc/self/fd"),Ge.mount({mount:function(){var r=Ge.createNode(e,"fd",16895,73);return r.node_ops={lookup:function(e,r){var n=+r,t=Ge.getStream(n);if(!t)throw new Ge.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Ge.createDevice("/dev","stdin",o.stdin):Ge.symlink("/dev/tty","/dev/stdin"),o.stdout?Ge.createDevice("/dev","stdout",null,o.stdout):Ge.symlink("/dev/tty","/dev/stdout"),o.stderr?Ge.createDevice("/dev","stderr",null,o.stderr):Ge.symlink("/dev/tty1","/dev/stderr"),Ge.open("/dev/stdin",0),Ge.open("/dev/stdout",1),Ge.open("/dev/stderr",1)},ensureErrnoError:function(){Ge.ErrnoError||(Ge.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ge.ErrnoError.prototype=new Error,Ge.ErrnoError.prototype.constructor=Ge.ErrnoError,[44].forEach((function(e){Ge.genericErrors[e]=new Ge.ErrnoError(e),Ge.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ge.ensureErrnoError(),Ge.nameTable=new Array(4096),Ge.mount(qe,{},"/"),Ge.createDefaultDirectories(),Ge.createDefaultDevices(),Ge.createSpecialDirectories(),Ge.filesystems={MEMFS:qe}},init:function(e,r,n){Ge.init.initialized=!0,Ge.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=r||o.stdout,o.stderr=n||o.stderr,Ge.createStandardStreams()},quit:function(){Ge.init.initialized=!1;for(var e=0;e<Ge.streams.length;e++){var r=Ge.streams[e];r&&Ge.close(r)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},findObject:function(e,r){var n=Ge.analyzePath(e,r);return n.exists?n.object:null},analyzePath:function(e,r){try{e=(t=Ge.lookupPath(e,{follow:!r})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=Ge.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=Ue.basename(e),t=Ge.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot="/"===t.path}catch(e){n.error=e.errno}return n},createPath:function(e,r,n,t){e="string"==typeof e?e:Ge.getPath(e);for(var o=r.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Ue.join2(e,i);try{Ge.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,r,n,t,o){var i=Ue.join2("string"==typeof e?e:Ge.getPath(e),r),a=Ge.getMode(t,o);return Ge.create(i,a)},createDataFile:function(e,r,n,t,o,i){var a=r;e&&(e="string"==typeof e?e:Ge.getPath(e),a=r?Ue.join2(e,r):e);var s=Ge.getMode(t,o),u=Ge.create(a,s);if(n){if("string"==typeof n){for(var l=new Array(n.length),c=0,f=n.length;c<f;++c)l[c]=n.charCodeAt(c);n=l}Ge.chmod(u,146|s);var d=Ge.open(u,577);Ge.write(d,n,0,n.length,0,i),Ge.close(d),Ge.chmod(u,s)}return u},createDevice:function(e,r,n,t){var o=Ue.join2("string"==typeof e?e:Ge.getPath(e),r),i=Ge.getMode(!!n,!!t);Ge.createDevice.major||(Ge.createDevice.major=64);var a=Ge.makedev(Ge.createDevice.major++,0);return Ge.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,r,t,o,i){for(var a=0,s=0;s<o;s++){var u;try{u=n()}catch(e){throw new Ge.ErrnoError(29)}if(void 0===u&&0===a)throw new Ge.ErrnoError(6);if(null==u)break;a++,r[t+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,n,o,i){for(var a=0;a<o;a++)try{t(r[n+a])}catch(e){throw new Ge.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ge.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!i)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Ie(i(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ge.ErrnoError(29)}},createLazyFile:function(e,r,n,t,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[r]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var r,t=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,i=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;o||(a=t);var s=this;s.setDataGetter((function(e){var r=e*a,o=(e+1)*a-1;if(o=Math.min(o,t-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>t-1)throw new Error("only "+t+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),t!==a&&o.setRequestHeader("Range","bytes="+e+"-"+r),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):Ie(o.responseText||"",!0)}(r,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&t||(a=t=1,t=this.getter(0).length,a=t,b("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var u=Ge.createFile(e,r,s,t,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var l={};function c(e,r,n,t,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,t);if(i.slice)for(var s=0;s<a;s++)r[n+s]=i[o+s];else for(s=0;s<a;s++)r[n+s]=i.get(o+s);return a}return Object.keys(u.stream_ops).forEach((function(e){var r=u.stream_ops[e];l[e]=function(){return Ge.forceLoadFile(u),r.apply(null,arguments)}})),l.read=function(e,r,n,t,o){return Ge.forceLoadFile(u),c(e,r,n,t,o)},l.mmap=function(e,r,n,t,o){Ge.forceLoadFile(u);var i=Ce();if(!i)throw new Ge.ErrnoError(48);return c(e,x,i,r,n),{ptr:i,allocated:!0}},u.stream_ops=l,u},createPreloadedFile:function(e,r,n,t,o,i,a,s,u,l){var c=r?Le.resolve(Ue.join2(e,r)):e;function f(n){function f(n){l&&l(),s||Ge.createDataFile(e,r,n,t,o,u),i&&i(),Q()}Browser.handledByPreloadPlugin(n,c,f,(function(){a&&a(),Q()}))||f(n)}J(),"string"==typeof n?He(n,(function(e){return f(e)}),a):f(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=Ge.indexedDB();try{var o=t.open(Ge.DB_NAME(),Ge.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=function(){b("creating db"),o.result.createObjectStore(Ge.DB_STORE_NAME)},o.onsuccess=function(){var t=o.result.transaction([Ge.DB_STORE_NAME],"readwrite"),i=t.objectStore(Ge.DB_STORE_NAME),a=0,s=0,u=e.length;function l(){0==s?r():n()}e.forEach((function(e){var r=i.put(Ge.analyzePath(e).object.contents,e);r.onsuccess=function(){++a+s==u&&l()},r.onerror=function(){s++,a+s==u&&l()}})),t.onerror=n},o.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=Ge.indexedDB();try{var o=t.open(Ge.DB_NAME(),Ge.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=n,o.onsuccess=function(){var t=o.result;try{var i=t.transaction([Ge.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=i.objectStore(Ge.DB_STORE_NAME),s=0,u=0,l=e.length;function c(){0==u?r():n()}e.forEach((function(e){var r=a.get(e);r.onsuccess=function(){Ge.analyzePath(e).exists&&Ge.unlink(e),Ge.createDataFile(Ue.dirname(e),Ue.basename(e),r.result,!0,!0,!0),++s+u==l&&c()},r.onerror=function(){u++,s+u==l&&c()}})),i.onerror=n},o.onerror=n}};function Xe(e){M=e,V()||(o.onExit&&o.onExit(e),P=!0),h(e,new ae(e))}Xe.sig="vi";var Ke=function(e,r,n,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ge.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=t},Ve=365,Ye=146;Object.defineProperties(Ke.prototype,{read:{get:function(){return(this.mode&Ve)===Ve},set:function(e){e?this.mode|=Ve:this.mode&=-366}},write:{get:function(){return(this.mode&Ye)===Ye},set:function(e){e?this.mode|=Ye:this.mode&=-147}},isFolder:{get:function(){return Ge.isDir(this.mode)}},isDevice:{get:function(){return Ge.isChrdev(this.mode)}}}),Ge.FSNode=Ke,Ge.staticInit();var $e={__heap_base:ve,__indirect_function_table:W,__memory_base:Fe,__stack_pointer:Be,__table_base:ze,emscripten_asm_const_int:Ne,emscripten_resize_heap:je,memory:A};!function(){var e={env:$e,wasi_snapshot_preview1:$e,"GOT.mem":new Proxy($e,le),"GOT.func":new Proxy($e,le)};function r(e,r){var n=e.exports;n=Me(n,1024),o.asm=n;var t,i=fe(r);i.neededDynlibs&&(k=i.neededDynlibs.concat(k)),me(n),t=o.asm.__wasm_call_ctors,q.unshift(t),X.push(o.asm.__wasm_apply_data_relocs),Q()}function n(e){r(e.instance,e.module)}function i(r){return function(){if(!E&&(w||y)){if("function"==typeof fetch&&!te(ee))return fetch(ee,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ee+"'";return e.arrayBuffer()})).catch((function(){return oe(ee)}));if(a)return new Promise((function(e,r){a(ee,(function(r){e(new Uint8Array(r))}),r)}))}return Promise.resolve().then((function(){return oe(ee)}))}().then((function(r){return WebAssembly.instantiate(r,e)})).then((function(e){return e})).then(r,(function(e){_("failed to asynchronously prepare wasm: "+e),Z(e)}))}if(J(),o.instantiateWasm)try{return o.instantiateWasm(e,r)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(E||"function"!=typeof WebAssembly.instantiateStreaming||ne(ee)||te(ee)||v||"function"!=typeof fetch?i(n):fetch(ee,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(n,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),i(n)}))}))).catch(t)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o.___wasm_apply_data_relocs=function(){return(o.___wasm_apply_data_relocs=o.asm.__wasm_apply_data_relocs).apply(null,arguments)},o._split_secret=function(){return(o._split_secret=o.asm.split_secret).apply(null,arguments)};var Je=o._malloc=function(){return(Je=o._malloc=o.asm.malloc).apply(null,arguments)};o._restore_secret=function(){return(o._restore_secret=o.asm.restore_secret).apply(null,arguments)};var Qe,Ze=o._setThrew=function(){return(Ze=o._setThrew=o.asm.setThrew).apply(null,arguments)},er=o.stackSave=function(){return(er=o.stackSave=o.asm.stackSave).apply(null,arguments)},rr=o.stackRestore=function(){return(rr=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},nr=o.stackAlloc=function(){return(nr=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)};function tr(e){var r=o._main;if(r){(e=e||[]).unshift(p);var n,t=e.length,i=nr(4*(t+1)),a=i>>2;e.forEach((function(e){F[a++]=function(e){var r=U(e)+1,n=nr(r);return j(e,x,n,r),n}(e)})),F[a]=0;try{var s=r(t,i);return M=n=s,Xe(n),s}catch(e){return function(e){if(e instanceof ae||"unwind"==e)return M;h(1,e)}(e)}}}$=function e(){Qe||ir(),Qe||($=e)};var or=!1;function ir(e){function r(){Qe||(Qe=!0,o.calledRun=!0,P||(K=!0,ce(X),o.noFSInit||Ge.init.initialized||Ge.init(),Ge.ignorePermissions=!1,ce(q),ce(H),n(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),ar&&tr(e),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),G.unshift(e);var e;ce(G)}()))}e=e||m,Y>0||!or&&(k.length?(J(),k.reduce((function(e,r){return e.then((function(){return xe(r,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){Re(),Q()}))):Re(),or=!0,Y>0)||(!function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),C.unshift(e);var e;ce(C)}(),Y>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),r()}),1)):r()))}if(o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var ar=!0;return o.noInitialRun&&(ar=!1),ir(),r.ready}}();var S={splitSecret:async(e,r,n,t)=>{const o=e.length;if(o<2)throw new Error("Need more data.");const i=t?t.wasmMemory:k.splitSecretMemory(o,r,n);let a=0;const s=new Uint8Array(i.buffer,a,o);s.set([...e]),a+=o;const u=new Uint8Array(i.buffer,a,r*(o+1)),l=[];switch((t||await A({wasmMemory:i}))._split_secret(r,n,o,s.byteOffset,u.byteOffset)){case 0:for(let e=0;e<r;e++)l.push(u.slice(e*(o+1),(e+1)*(o+1)));return l;case-1:throw new Error("Threshold is less than 2");case-2:throw new Error("Shares are less than threshold");case-3:throw new Error("Shares exceed 255");default:throw new Error("Unexpected error occured")}},restoreSecret:async(e,r)=>{const n=e.length,t=e[0].length;if(!e.every((e=>e.length===t)))throw new Error("Shares length varies.");const o=t-1,i=r?r.wasmMemory:k.restoreSecretMemory(o,n);let a=0;const s=new Uint8Array(i.buffer,a,n*(o+1));for(let r=0;r<n;r++)s.set(e[r],r*(o+1));a+=n*(o+1);const u=new Uint8Array(i.buffer,a,o);switch((await A({wasmMemory:i}))._restore_secret(n,o,s.byteOffset,u.byteOffset)){case 0:return new Uint8Array([...u]);case-1:throw new Error("Need at most 255 shares.");case-2:throw new Error("Not enough shares provided.");default:throw new Error("An unexpected error occured.")}},memory:k},M=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(e=e||__filename),function(r){var n,t,o=void 0!==(r=r||{})?r:{};o.ready=new Promise((function(e,r){n=e,t=r}));var i,a,s,u,c,f,d=Object.assign({},o),m=[],p="./this.program",h=function(e,r){throw r},w="object"==("undefined"==typeof window?"undefined":l(window)),y="function"==typeof importScripts,v="object"==("undefined"==typeof process?"undefined":l(process))&&"object"==l(process.versions)&&"string"==typeof process.versions.node,g="";v?(g=y?require("path").dirname(g)+"/":__dirname+"/",f=function(){c||(u=require("fs"),c=require("path"))},i=function(e,r){return f(),e=c.normalize(e),u.readFileSync(e,r?void 0:"utf8")},s=function(e){var r=i(e,!0);return r.buffer||(r=new Uint8Array(r)),r},a=function(e,r,n){f(),e=c.normalize(e),u.readFile(e,(function(e,t){e?n(e):r(t.buffer)}))},process.argv.length>1&&(p=process.argv[1].replace(/\\/g,"/")),m=process.argv.slice(2),h=function(e,r){if(V())throw process.exitCode=e,r;var n;(n=r)instanceof ae||_("exiting due to exception: "+n),process.exit(e)},o.inspect=function(){return"[Emscripten Module object]"}):(w||y)&&(y?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),e&&(g=e),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},y&&(s=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),a=function(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){200==t.status||0==t.status&&t.response?r(t.response):n()},t.onerror=n,t.send(null)});var b=o.print||console.log.bind(console),_=o.printErr||console.warn.bind(console);Object.assign(o,d),d=null,o.arguments&&(m=o.arguments),o.thisProgram&&(p=o.thisProgram),o.quit&&(h=o.quit);var E,k=o.dynamicLibraries||[];o.wasmBinary&&(E=o.wasmBinary);var A,S=o.noExitRuntime||!0;"object"!=("undefined"==typeof WebAssembly?"undefined":l(WebAssembly))&&Z("no native wasm support detected");var M,P=!1;var D,x,R,F,B,z,T,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,r,n){for(var t=r+n,o=r;e[o]&&!(o>=t);)++o;if(o-r>16&&e.buffer&&N)return N.decode(e.subarray(r,o));for(var i="";r<o;){var a=e[r++];if(128&a){var s=63&e[r++];if(192!=(224&a)){var u=63&e[r++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[r++])<65536)i+=String.fromCharCode(a);else{var l=a-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function j(e,r,n,t){if(!(t>0))return 0;for(var o=n,i=n+t-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=i)break;r[n++]=s}else if(s<=2047){if(n+1>=i)break;r[n++]=192|s>>6,r[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;r[n++]=224|s>>12,r[n++]=128|s>>6&63,r[n++]=128|63&s}else{if(n+3>=i)break;r[n++]=240|s>>18,r[n++]=128|s>>12&63,r[n++]=128|s>>6&63,r[n++]=128|63&s}}return r[n]=0,n-o}function U(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t<=127?r++:t<=2047?r+=2:t>=55296&&t<=57343?(r+=4,++n):r+=3}return r}function L(e){D=e,o.HEAP8=x=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=F=new Int32Array(e),o.HEAPU8=R=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=B=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=T=new Float64Array(e),o.HEAP64=z=new BigInt64Array(e),o.HEAPU64=new BigUint64Array(e)}var I=o.INITIAL_MEMORY||2097152;(A=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:I/65536,maximum:1600}))&&(D=A.buffer),I=D.byteLength,L(D);var W=new WebAssembly.Table({initial:5,element:"anyfunc"}),C=[],q=[],H=[],G=[],X=[],K=!1;function V(){return S}var Y=0,$=null;function J(e){Y++,o.monitorRunDependencies&&o.monitorRunDependencies(Y)}function Q(e){if(Y--,o.monitorRunDependencies&&o.monitorRunDependencies(Y),0==Y&&$){var r=$;$=null,r()}}function Z(e){o.onAbort&&o.onAbort(e),_(e="Aborted("+e+")"),P=!0,M=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw t(r),r}var ee,re;function ne(e){return e.startsWith("data:application/octet-stream;base64,")}function te(e){return e.startsWith("file://")}function oe(e){try{if(e==ee&&E)return new Uint8Array(E);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){Z(e)}}ne(ee="utilsMethodsModule.wasm")||(re=ee,ee=o.locateFile?o.locateFile(re,g):g+re);var ie={4360:function(){return o.getRandomValue()},4396:function(){if(void 0===o.getRandomValue)try{var e="object"===("undefined"==typeof window?"undefined":l(window))?window:self,r=void 0!==e.crypto?e.crypto:e.msCrypto,n=function(){var e=new Uint32Array(1);return r.getRandomValues(e),e[0]>>>0};n(),o.getRandomValue=n}catch(e){try{var t=require("crypto"),i=function(){var e=t.randomBytes(4);return(e[0]<<24|e[1]<<16|e[2]<<8|e[3])>>>0};i(),o.getRandomValue=i}catch(e){throw"No secure random number generator found"}}}};function ae(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}var se={},ue=new Set([]),le={get:function(e,r){var n=se[r];return n||(n=se[r]=new WebAssembly.Global({value:"i32",mutable:!0})),ue.has(r)||(n.required=!0),n}};function ce(e){for(;e.length>0;)e.shift()(o)}function fe(e){var r=0,n=0;function t(){for(var n=0,t=1;;){var o=e[r++];if(n+=(127&o)*t,t*=128,!(128&o))break}return n}function o(){var n=t();return O(e,(r+=n)-n,n)}function i(e,r){if(e)throw new Error(r)}var a="dylink.0";if(e instanceof WebAssembly.Module){var s=WebAssembly.Module.customSections(e,a);0===s.length&&(a="dylink",s=WebAssembly.Module.customSections(e,a)),i(0===s.length,"need dylink section"),n=(e=new Uint8Array(s[0])).length}else{i(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),i(0!==e[8],"need the dylink section to be first"),r=9;var u=t();n=r+u,a=o()}var l={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==a){l.memorySize=t(),l.memoryAlign=t(),l.tableSize=t(),l.tableAlign=t();for(var c=t(),f=0;f<c;++f){var d=o();l.neededDynlibs.push(d)}}else{i("dylink.0"!==a);for(;r<n;){var m=e[r++],p=t();if(1===m)l.memorySize=t(),l.memoryAlign=t(),l.tableSize=t(),l.tableAlign=t();else if(2===m)for(c=t(),f=0;f<c;++f)d=o(),l.neededDynlibs.push(d);else if(3===m)for(var h=t();h--;){var w=o();256&t()&&l.tlsExports.add(w)}else if(4===m)for(h=t();h--;){o();w=o();1==(3&t())&&l.weakImports.add(w)}else r+=p}}return l}function de(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore"].includes(e)?e:"_"+e}function me(e,r){for(var n in e)if(e.hasOwnProperty(n)){$e.hasOwnProperty(n)||($e[n]=e[n]);var t=de(n);o.hasOwnProperty(t)||(o[t]=e[n]),"__main_argc_argv"==n&&(o._main=e[n])}}var pe={loadedLibsByName:{},loadedLibsByHandle:{}},he=[];function we(e){var r=he[e];return r||(e>=he.length&&(he.length=e+1),he[e]=r=W.get(e)),r}function ye(e,r,n){return we(r).apply(null,n)}var ve=1055264;function ge(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors"].includes(e)}function be(e,r){e<128?r.push(e):r.push(e%128|128,e>>7)}function _e(e,r){if(Ee)for(var n=e;n<e+r;n++){var t=we(n);t&&Ee.set(t,n)}}var Ee=void 0,ke=[];function Ae(e,r){W.set(e,r),he[e]=W.get(e)}function Se(e,r){if(Ee||(Ee=new WeakMap,_e(0,W.length)),Ee.has(e))return Ee.get(e);var n=function(){if(ke.length)return ke.pop();try{W.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return W.length-1}();try{Ae(n,e)}catch(o){if(!(o instanceof TypeError))throw o;var t=function(e,r){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var r={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[r[e[0]]]},t=1;t<e.length;++t)n.parameters.push(r[e[t]]);return n}(r),e);var n=[1,96],t=r.slice(0,1),o=r.slice(1),i={i:127,p:127,j:126,f:125,d:124};be(o.length,n);for(var a=0;a<o.length;++a)n.push(i[o[a]]);"v"==t?n.push(0):n.push(1,i[t]);var s=[0,97,115,109,1,0,0,0,1];be(n.length,s),s.push.apply(s,n),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(s));return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,r);Ae(n,t)}return Ee.set(e,n),n}function Me(e,r,n){var t={};for(var o in e){var i=e[o];"object"==l(i)&&(i=i.value),"number"==typeof i&&(i+=r),t[o]=i}return function(e,r){for(var n in e)if(!ge(n)){var t=e[n];se[n]||(se[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(r||0==se[n].value)&&("function"==typeof t?se[n].value=Se(t):"number"==typeof t?se[n].value=t:"bigint"==typeof t?se[n].value=Number(t):_("unhandled export type for `"+n+"`: "+l(t)))}}(t,n),t}function Pe(e,r){var n;return n||(n=$e[e])&&n.stub&&(n=void 0),n||(n=o[de(e)]),!n&&e.startsWith("invoke_")&&(e.split("_")[1],n=function(){var e=er();try{return ye(0,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(rr(e),r!==r+0)throw r;Ze(1,0)}}),n}function De(e,r,n){var t=fe(e);function o(){var o,i;if(!n||!x[n+24>>0]){var a=Math.pow(2,t.memoryAlign);a=Math.max(a,16);var s=t.memorySize?(o=function(e){if(K)return Qe(e);var r=ve,n=r+e+15&-16;return ve=n,se.__heap_base.value=n,r}(t.memorySize+a),i=a,Math.ceil(o/i)*i):0,u=t.tableSize?W.length:0;n&&(x[n+24>>0]=1,B[n+28>>2]=s,F[n+32>>2]=t.memorySize,B[n+36>>2]=u,F[n+40>>2]=t.tableSize)}else s=B[n+28>>2],u=B[n+36>>2];var l,c=u+t.tableSize-W.length;function f(e){var r=Pe(e);return r||(r=l[e]),r}c>0&&W.grow(c);var d={get:function(e,r){switch(r){case"__memory_base":return s;case"__table_base":return u}if(r in $e)return $e[r];var n;r in e||(e[r]=function(){return n||(n=f(r)),n.apply(null,arguments)});return e[r]}},m=new Proxy({},d),p={"GOT.mem":new Proxy({},le),"GOT.func":new Proxy({},le),env:m,wasi_snapshot_preview1:m};function h(e){_e(u,t.tableSize),l=Me(e.exports,s),r.allowUndefined||Re();var n=l.__wasm_call_ctors;n&&(K?n():q.push(n));var o=l.__wasm_apply_data_relocs;return o&&(K?o():X.push(o)),l}if(r.loadAsync){if(e instanceof WebAssembly.Module){var w=new WebAssembly.Instance(e,p);return Promise.resolve(h(w))}return WebAssembly.instantiate(e,p).then((function(e){return h(e.instance)}))}var y=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return h(w=new WebAssembly.Instance(y,p))}return ue=t.weakImports,r.loadAsync?t.neededDynlibs.reduce((function(e,n){return e.then((function(){return xe(n,r)}))}),Promise.resolve()).then((function(){return o()})):(t.neededDynlibs.forEach((function(e){xe(e,r)})),o())}function xe(e,r,n){r=r||{global:!0,nodelete:!0};var t=pe.loadedLibsByName[e];if(t)return r.global&&!t.global&&(t.global=!0,"loading"!==t.module&&me(t.module)),r.nodelete&&t.refcount!==1/0&&(t.refcount=1/0),t.refcount++,n&&(pe.loadedLibsByHandle[n]=t),!r.loadAsync||Promise.resolve(!0);function o(e){if(r.fs&&r.fs.findObject(e)){var n=r.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),r.loadAsync?Promise.resolve(n):n}if(r.loadAsync)return new Promise((function(r,n){a(e,(function(e){return r(new Uint8Array(e))}),n)}));if(!s)throw new Error(e+": file not found, and synchronous loading of external files is not available");return s(e)}function i(){if("undefined"!=typeof preloadedWasm&&preloadedWasm[e]){var t=preloadedWasm[e];return r.loadAsync?Promise.resolve(t):t}return r.loadAsync?o(e).then((function(e){return De(e,r,n)})):De(o(e),r,n)}function u(e){t.global&&me(e),t.module=e}return t={refcount:r.nodelete?1/0:1,name:e,module:"loading",global:r.global},pe.loadedLibsByName[e]=t,n&&(pe.loadedLibsByHandle[n]=t),r.loadAsync?i().then((function(e){return u(e),!0})):(u(i()),!0)}function Re(){for(var e in se)if(0==se[e].value){var r=Pe(e);if(!r&&!se[e].required)continue;if("function"==typeof r)se[e].value=Se(r,r.sig);else{if("number"!=typeof r)throw new Error("bad export type for `"+e+"`: "+l(r));se[e].value=r}}}var Fe=new WebAssembly.Global({value:"i32",mutable:!1},1024),Be=new WebAssembly.Global({value:"i32",mutable:!0},1055264),ze=new WebAssembly.Global({value:"i32",mutable:!1},1),Te=[];function Ne(e,r,n){e-=1024;var t=function(e,r){var n;for(Te.length=0,r>>=2;n=R[e++];)r+=105!=n&r,Te.push(105==n?F[r]:(106==n?z:T)[r++>>1]),++r;return Te}(r,n);return ie[e].apply(null,t)}function Oe(e){try{return A.grow(e-D.byteLength+65535>>>16),L(A.buffer),1}catch(e){}}function je(e){var r=R.length,n=104857600;if((e>>>=0)>n)return!1;for(var t,o,i=1;i<=4;i*=2){var a=r+65536/i;if(Oe(Math.min(n,(t=Math.max(e,a))+((o=65536)-t%o)%o)))return!0}return!1}Ne.sig="ippp",je.sig="ip";var Ue={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,t=e.length-1;t>=0;t--){var o=e[t];"."===o?e.splice(t,1):".."===o?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:function(e){var r=Ue.isAbs(e),n="/"===e.substr(-1);return(e=Ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Ue.splitPath(e),n=r[0],t=r[1];return n||t?(t&&(t=t.substr(0,t.length-1)),n+t):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=Ue.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ue.normalize(e.join("/"))},join2:function(e,r){return Ue.normalize(e+"/"+r)}};var Le={resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var t=n>=0?arguments[n]:Ge.cwd();if("string"!=typeof t)throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,r=Ue.isAbs(t)}return(r?"/":"")+(e=Ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function n(e){for(var r=0;r<e.length&&""===e[r];r++);for(var n=e.length-1;n>=0&&""===e[n];n--);return r>n?[]:e.slice(r,n-r+1)}e=Le.resolve(e).substr(1),r=Le.resolve(r).substr(1);for(var t=n(e.split("/")),o=n(r.split("/")),i=Math.min(t.length,o.length),a=i,s=0;s<i;s++)if(t[s]!==o[s]){a=s;break}var u=[];for(s=a;s<t.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}};function Ie(e,r,n){var t=n>0?n:U(e)+1,o=new Array(t),i=j(e,o,0,o.length);return r&&(o.length=i),o}var We={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){We.ttys[e]={input:[],output:[],ops:r},Ge.registerDevice(e,We.stream_ops)},stream_ops:{open:function(e){var r=We.ttys[e.node.rdev];if(!r)throw new Ge.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.get_char)throw new Ge.ErrnoError(60);for(var i=0,a=0;a<t;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ge.ErrnoError(29)}if(void 0===s&&0===i)throw new Ge.ErrnoError(6);if(null==s)break;i++,r[n+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.put_char)throw new Ge.ErrnoError(60);try{for(var i=0;i<t;i++)e.tty.ops.put_char(e.tty,r[n+i])}catch(e){throw new Ge.ErrnoError(29)}return t&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(v){var n=Buffer.alloc(256),t=0;try{t=u.readSync(process.stdin.fd,n,0,256,-1)}catch(e){if(!e.toString().includes("EOF"))throw e;t=0}r=t>0?n.slice(0,t).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n");if(!r)return null;e.input=Ie(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(b(O(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(b(O(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(_(O(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(_(O(e.output,0)),e.output=[])}}};function Ce(e){Z()}var qe={ops_table:null,mount:function(e){return qe.createNode(null,"/",16895,0)},createNode:function(e,r,n,t){if(Ge.isBlkdev(n)||Ge.isFIFO(n))throw new Ge.ErrnoError(63);qe.ops_table||(qe.ops_table={dir:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr,lookup:qe.node_ops.lookup,mknod:qe.node_ops.mknod,rename:qe.node_ops.rename,unlink:qe.node_ops.unlink,rmdir:qe.node_ops.rmdir,readdir:qe.node_ops.readdir,symlink:qe.node_ops.symlink},stream:{llseek:qe.stream_ops.llseek}},file:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr},stream:{llseek:qe.stream_ops.llseek,read:qe.stream_ops.read,write:qe.stream_ops.write,allocate:qe.stream_ops.allocate,mmap:qe.stream_ops.mmap,msync:qe.stream_ops.msync}},link:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr,readlink:qe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:qe.node_ops.getattr,setattr:qe.node_ops.setattr},stream:Ge.chrdev_stream_ops}});var o=Ge.createNode(e,r,n,t);return Ge.isDir(o.mode)?(o.node_ops=qe.ops_table.dir.node,o.stream_ops=qe.ops_table.dir.stream,o.contents={}):Ge.isFile(o.mode)?(o.node_ops=qe.ops_table.file.node,o.stream_ops=qe.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ge.isLink(o.mode)?(o.node_ops=qe.ops_table.link.node,o.stream_ops=qe.ops_table.link.stream):Ge.isChrdev(o.mode)&&(o.node_ops=qe.ops_table.chrdev.node,o.stream_ops=qe.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var n=e.contents?e.contents.length:0;if(!(n>=r)){r=Math.max(r,n*(n<1048576?2:1.125)>>>0),0!=n&&(r=Math.max(r,256));var t=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(t.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(r),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Ge.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Ge.isDir(e.mode)?r.size=4096:Ge.isFile(e.mode)?r.size=e.usedBytes:Ge.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&qe.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Ge.genericErrors[44]},mknod:function(e,r,n,t){return qe.createNode(e,r,n,t)},rename:function(e,r,n){if(Ge.isDir(e.mode)){var t;try{t=Ge.lookupNode(r,n)}catch(e){}if(t)for(var o in t.contents)throw new Ge.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,r.contents[n]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var n=Ge.lookupNode(e,r);for(var t in n.contents)throw new Ge.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var t=qe.createNode(e,r,41471,0);return t.link=n,t},readlink:function(e){if(!Ge.isLink(e.mode))throw new Ge.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,n,t,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,t);if(a>8&&i.subarray)r.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)r[n+s]=i[o+s];return a},write:function(e,r,n,t,o,i){if(r.buffer===x.buffer&&(i=!1),!t)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=r.subarray(n,n+t),a.usedBytes=t,t;if(0===a.usedBytes&&0===o)return a.contents=r.slice(n,n+t),a.usedBytes=t,t;if(o+t<=a.usedBytes)return a.contents.set(r.subarray(n,n+t),o),t}if(qe.expandFileStorage(a,o+t),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(n,n+t),o);else for(var s=0;s<t;s++)a.contents[o+s]=r[n+s];return a.usedBytes=Math.max(a.usedBytes,o+t),t},llseek:function(e,r,n){var t=r;if(1===n?t+=e.position:2===n&&Ge.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new Ge.ErrnoError(28);return t},allocate:function(e,r,n){qe.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,t,o){if(!Ge.isFile(e.node.mode))throw new Ge.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||s.buffer!==D){if((n>0||n+r<s.length)&&(s=s.subarray?s.subarray(n,n+r):Array.prototype.slice.call(s,n,n+r)),a=!0,!(i=Ce()))throw new Ge.ErrnoError(48);x.set(s,i)}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:function(e,r,n,t,o){if(!Ge.isFile(e.node.mode))throw new Ge.ErrnoError(43);return 2&o||qe.stream_ops.write(e,r,0,t,n,!1),0}}};function He(e,r,n,t){var o=t?"":"al "+e;a(e,(function(n){var t;t='Loading data file "'+e+'" failed (no arrayBuffer).',n||Z(t),r(new Uint8Array(n)),o&&Q()}),(function(r){if(!n)throw'Loading data file "'+e+'" failed.';n()})),o&&J()}var Ge={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=Le.resolve(Ge.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if((r=Object.assign(n,r)).recurse_count>8)throw new Ge.ErrnoError(32);for(var t=Ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=Ge.root,i="/",a=0;a<t.length;a++){var s=a===t.length-1;if(s&&r.parent)break;if(o=Ge.lookupNode(o,t[a]),i=Ue.join2(i,t[a]),Ge.isMountpoint(o)&&(!s||s&&r.follow_mount)&&(o=o.mounted.root),!s||r.follow)for(var u=0;Ge.isLink(o.mode);){var l=Ge.readlink(i);i=Le.resolve(Ue.dirname(i),l);var c=Ge.lookupPath(i,{recurse_count:r.recurse_count+1});if(o=c.node,u++>40)throw new Ge.ErrnoError(32)}}return{path:i,node:o}},getPath:function(e){for(var r;;){if(Ge.isRoot(e)){var n=e.mount.mountpoint;return r?"/"!==n[n.length-1]?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t)|0;return(e+n>>>0)%Ge.nameTable.length},hashAddNode:function(e){var r=Ge.hashName(e.parent.id,e.name);e.name_next=Ge.nameTable[r],Ge.nameTable[r]=e},hashRemoveNode:function(e){var r=Ge.hashName(e.parent.id,e.name);if(Ge.nameTable[r]===e)Ge.nameTable[r]=e.name_next;else for(var n=Ge.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=Ge.mayLookup(e);if(n)throw new Ge.ErrnoError(n,e);for(var t=Ge.hashName(e.id,r),o=Ge.nameTable[t];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===r)return o}return Ge.lookup(e,r)},createNode:function(e,r,n,t){var o=new Ge.FSNode(e,r,n,t);return Ge.hashAddNode(o),o},destroyNode:function(e){Ge.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=Ge.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Ge.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var r=Ge.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{Ge.lookupNode(e,r);return 20}catch(e){}return Ge.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var t;try{t=Ge.lookupNode(e,r)}catch(e){return e.errno}var o=Ge.nodePermissions(e,"wx");if(o)return o;if(n){if(!Ge.isDir(t.mode))return 54;if(Ge.isRoot(t)||Ge.getPath(t)===Ge.cwd())return 10}else if(Ge.isDir(t.mode))return 31;return 0},mayOpen:function(e,r){return e?Ge.isLink(e.mode)?32:Ge.isDir(e.mode)&&("r"!==Ge.flagsToPermissionString(r)||512&r)?31:Ge.nodePermissions(e,Ge.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge.MAX_OPEN_FDS,n=e;n<=r;n++)if(!Ge.streams[n])return n;throw new Ge.ErrnoError(33)},getStream:function(e){return Ge.streams[e]},createStream:function(e,r,n){Ge.FSStream||(Ge.FSStream=function(){this.shared={}},Ge.FSStream.prototype={},Object.defineProperties(Ge.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Ge.FSStream,e);var t=Ge.nextfd(r,n);return e.fd=t,Ge.streams[t]=e,e},closeStream:function(e){Ge.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Ge.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ge.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Ge.devices[e]={stream_ops:r}},getDevice:function(e){return Ge.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var t=n.pop();r.push(t),n.push.apply(n,t.mounts)}return r},syncfs:function(e,r){"function"==typeof e&&(r=e,e=!1),Ge.syncFSRequests++,Ge.syncFSRequests>1&&_("warning: "+Ge.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Ge.getMounts(Ge.root.mount),t=0;function o(e){return Ge.syncFSRequests--,r(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++t>=n.length&&o(null)}n.forEach((function(r){if(!r.type.syncfs)return i(null);r.type.syncfs(r,e,i)}))},mount:function(e,r,n){var t,o="/"===n,i=!n;if(o&&Ge.root)throw new Ge.ErrnoError(10);if(!o&&!i){var a=Ge.lookupPath(n,{follow_mount:!1});if(n=a.path,t=a.node,Ge.isMountpoint(t))throw new Ge.ErrnoError(10);if(!Ge.isDir(t.mode))throw new Ge.ErrnoError(54)}var s={type:e,opts:r,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?Ge.root=u:t&&(t.mounted=s,t.mount&&t.mount.mounts.push(s)),u},unmount:function(e){var r=Ge.lookupPath(e,{follow_mount:!1});if(!Ge.isMountpoint(r.node))throw new Ge.ErrnoError(28);var n=r.node,t=n.mounted,o=Ge.getMounts(t);Object.keys(Ge.nameTable).forEach((function(e){for(var r=Ge.nameTable[e];r;){var n=r.name_next;o.includes(r.mount)&&Ge.destroyNode(r),r=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(t);n.mount.mounts.splice(i,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var t=Ge.lookupPath(e,{parent:!0}).node,o=Ue.basename(e);if(!o||"."===o||".."===o)throw new Ge.ErrnoError(28);var i=Ge.mayCreate(t,o);if(i)throw new Ge.ErrnoError(i);if(!t.node_ops.mknod)throw new Ge.ErrnoError(63);return t.node_ops.mknod(t,o,r,n)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Ge.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Ge.mknod(e,r,0)},mkdirTree:function(e,r){for(var n=e.split("/"),t="",o=0;o<n.length;++o)if(n[o]){t+="/"+n[o];try{Ge.mkdir(t,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,n){return void 0===n&&(n=r,r=438),r|=8192,Ge.mknod(e,r,n)},symlink:function(e,r){if(!Le.resolve(e))throw new Ge.ErrnoError(44);var n=Ge.lookupPath(r,{parent:!0}).node;if(!n)throw new Ge.ErrnoError(44);var t=Ue.basename(r),o=Ge.mayCreate(n,t);if(o)throw new Ge.ErrnoError(o);if(!n.node_ops.symlink)throw new Ge.ErrnoError(63);return n.node_ops.symlink(n,t,e)},rename:function(e,r){var n,t,o=Ue.dirname(e),i=Ue.dirname(r),a=Ue.basename(e),s=Ue.basename(r);if(n=Ge.lookupPath(e,{parent:!0}).node,t=Ge.lookupPath(r,{parent:!0}).node,!n||!t)throw new Ge.ErrnoError(44);if(n.mount!==t.mount)throw new Ge.ErrnoError(75);var u,l=Ge.lookupNode(n,a),c=Le.relative(e,i);if("."!==c.charAt(0))throw new Ge.ErrnoError(28);if("."!==(c=Le.relative(r,o)).charAt(0))throw new Ge.ErrnoError(55);try{u=Ge.lookupNode(t,s)}catch(e){}if(l!==u){var f=Ge.isDir(l.mode),d=Ge.mayDelete(n,a,f);if(d)throw new Ge.ErrnoError(d);if(d=u?Ge.mayDelete(t,s,f):Ge.mayCreate(t,s))throw new Ge.ErrnoError(d);if(!n.node_ops.rename)throw new Ge.ErrnoError(63);if(Ge.isMountpoint(l)||u&&Ge.isMountpoint(u))throw new Ge.ErrnoError(10);if(t!==n&&(d=Ge.nodePermissions(n,"w")))throw new Ge.ErrnoError(d);Ge.hashRemoveNode(l);try{n.node_ops.rename(l,t,s)}catch(e){throw e}finally{Ge.hashAddNode(l)}}},rmdir:function(e){var r=Ge.lookupPath(e,{parent:!0}).node,n=Ue.basename(e),t=Ge.lookupNode(r,n),o=Ge.mayDelete(r,n,!0);if(o)throw new Ge.ErrnoError(o);if(!r.node_ops.rmdir)throw new Ge.ErrnoError(63);if(Ge.isMountpoint(t))throw new Ge.ErrnoError(10);r.node_ops.rmdir(r,n),Ge.destroyNode(t)},readdir:function(e){var r=Ge.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Ge.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var r=Ge.lookupPath(e,{parent:!0}).node;if(!r)throw new Ge.ErrnoError(44);var n=Ue.basename(e),t=Ge.lookupNode(r,n),o=Ge.mayDelete(r,n,!1);if(o)throw new Ge.ErrnoError(o);if(!r.node_ops.unlink)throw new Ge.ErrnoError(63);if(Ge.isMountpoint(t))throw new Ge.ErrnoError(10);r.node_ops.unlink(r,n),Ge.destroyNode(t)},readlink:function(e){var r=Ge.lookupPath(e).node;if(!r)throw new Ge.ErrnoError(44);if(!r.node_ops.readlink)throw new Ge.ErrnoError(28);return Le.resolve(Ge.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var n=Ge.lookupPath(e,{follow:!r}).node;if(!n)throw new Ge.ErrnoError(44);if(!n.node_ops.getattr)throw new Ge.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ge.stat(e,!0)},chmod:function(e,r,n){var t;"string"==typeof e?t=Ge.lookupPath(e,{follow:!n}).node:t=e;if(!t.node_ops.setattr)throw new Ge.ErrnoError(63);t.node_ops.setattr(t,{mode:4095&r|-4096&t.mode,timestamp:Date.now()})},lchmod:function(e,r){Ge.chmod(e,r,!0)},fchmod:function(e,r){var n=Ge.getStream(e);if(!n)throw new Ge.ErrnoError(8);Ge.chmod(n.node,r)},chown:function(e,r,n,t){var o;"string"==typeof e?o=Ge.lookupPath(e,{follow:!t}).node:o=e;if(!o.node_ops.setattr)throw new Ge.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,n){Ge.chown(e,r,n,!0)},fchown:function(e,r,n){var t=Ge.getStream(e);if(!t)throw new Ge.ErrnoError(8);Ge.chown(t.node,r,n)},truncate:function(e,r){if(r<0)throw new Ge.ErrnoError(28);var n;"string"==typeof e?n=Ge.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new Ge.ErrnoError(63);if(Ge.isDir(n.mode))throw new Ge.ErrnoError(31);if(!Ge.isFile(n.mode))throw new Ge.ErrnoError(28);var t=Ge.nodePermissions(n,"w");if(t)throw new Ge.ErrnoError(t);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=Ge.getStream(e);if(!n)throw new Ge.ErrnoError(8);if(0==(2097155&n.flags))throw new Ge.ErrnoError(28);Ge.truncate(n.node,r)},utime:function(e,r,n){var t=Ge.lookupPath(e,{follow:!0}).node;t.node_ops.setattr(t,{timestamp:Math.max(r,n)})},open:function(e,r,n){if(""===e)throw new Ge.ErrnoError(44);var t;if(n=void 0===n?438:n,n=64&(r="string"==typeof r?Ge.modeStringToFlags(r):r)?4095&n|32768:0,"object"==l(e))t=e;else{e=Ue.normalize(e);try{t=Ge.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var i=!1;if(64&r)if(t){if(128&r)throw new Ge.ErrnoError(20)}else t=Ge.mknod(e,n,0),i=!0;if(!t)throw new Ge.ErrnoError(44);if(Ge.isChrdev(t.mode)&&(r&=-513),65536&r&&!Ge.isDir(t.mode))throw new Ge.ErrnoError(54);if(!i){var a=Ge.mayOpen(t,r);if(a)throw new Ge.ErrnoError(a)}512&r&&!i&&Ge.truncate(t,0),r&=-131713;var s=Ge.createStream({node:t,path:Ge.getPath(t),flags:r,seekable:!0,position:0,stream_ops:t.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!o.logReadFiles||1&r||(Ge.readFiles||(Ge.readFiles={}),e in Ge.readFiles||(Ge.readFiles[e]=1)),s},close:function(e){if(Ge.isClosed(e))throw new Ge.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ge.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,n){if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ge.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Ge.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,t,o){if(t<0||o<0)throw new Ge.ErrnoError(28);if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(1==(2097155&e.flags))throw new Ge.ErrnoError(8);if(Ge.isDir(e.node.mode))throw new Ge.ErrnoError(31);if(!e.stream_ops.read)throw new Ge.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new Ge.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,r,n,t,o);return i||(e.position+=a),a},write:function(e,r,n,t,o,i){if(t<0||o<0)throw new Ge.ErrnoError(28);if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(0==(2097155&e.flags))throw new Ge.ErrnoError(8);if(Ge.isDir(e.node.mode))throw new Ge.ErrnoError(31);if(!e.stream_ops.write)throw new Ge.ErrnoError(28);e.seekable&&1024&e.flags&&Ge.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ge.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,r,n,t,o,i);return a||(e.position+=s),s},allocate:function(e,r,n){if(Ge.isClosed(e))throw new Ge.ErrnoError(8);if(r<0||n<=0)throw new Ge.ErrnoError(28);if(0==(2097155&e.flags))throw new Ge.ErrnoError(8);if(!Ge.isFile(e.node.mode)&&!Ge.isDir(e.node.mode))throw new Ge.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ge.ErrnoError(138);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,t,o){if(0!=(2&t)&&0==(2&o)&&2!=(2097155&e.flags))throw new Ge.ErrnoError(2);if(1==(2097155&e.flags))throw new Ge.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ge.ErrnoError(43);return e.stream_ops.mmap(e,r,n,t,o)},msync:function(e,r,n,t,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,n,t,o):0},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new Ge.ErrnoError(59);return e.stream_ops.ioctl(e,r,n)},readFile:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var t=Ge.open(e,n.flags),o=Ge.stat(e),i=o.size,a=new Uint8Array(i);return Ge.read(t,a,0,i,0),"utf8"===n.encoding?r=O(a,0):"binary"===n.encoding&&(r=a),Ge.close(t),r},writeFile:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var t=Ge.open(e,n.flags,n.mode);if("string"==typeof r){var o=new Uint8Array(U(r)+1),i=j(r,o,0,o.length);Ge.write(t,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Ge.write(t,r,0,r.byteLength,void 0,n.canOwn)}Ge.close(t)},cwd:function(){return Ge.currentPath},chdir:function(e){var r=Ge.lookupPath(e,{follow:!0});if(null===r.node)throw new Ge.ErrnoError(44);if(!Ge.isDir(r.node.mode))throw new Ge.ErrnoError(54);var n=Ge.nodePermissions(r.node,"x");if(n)throw new Ge.ErrnoError(n);Ge.currentPath=r.path},createDefaultDirectories:function(){Ge.mkdir("/tmp"),Ge.mkdir("/home"),Ge.mkdir("/home/web_user")},createDefaultDevices:function(){Ge.mkdir("/dev"),Ge.registerDevice(Ge.makedev(1,3),{read:function(){return 0},write:function(e,r,n,t,o){return t}}),Ge.mkdev("/dev/null",Ge.makedev(1,3)),We.register(Ge.makedev(5,0),We.default_tty_ops),We.register(Ge.makedev(6,0),We.default_tty1_ops),Ge.mkdev("/dev/tty",Ge.makedev(5,0)),Ge.mkdev("/dev/tty1",Ge.makedev(6,0));var e=function(){if("object"==("undefined"==typeof crypto?"undefined":l(crypto))&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(v)try{var r=require("crypto");return function(){return r.randomBytes(1)[0]}}catch(e){}return function(){return Z("randomDevice")}}();Ge.createDevice("/dev","random",e),Ge.createDevice("/dev","urandom",e),Ge.mkdir("/dev/shm"),Ge.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ge.mkdir("/proc");var e=Ge.mkdir("/proc/self");Ge.mkdir("/proc/self/fd"),Ge.mount({mount:function(){var r=Ge.createNode(e,"fd",16895,73);return r.node_ops={lookup:function(e,r){var n=+r,t=Ge.getStream(n);if(!t)throw new Ge.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Ge.createDevice("/dev","stdin",o.stdin):Ge.symlink("/dev/tty","/dev/stdin"),o.stdout?Ge.createDevice("/dev","stdout",null,o.stdout):Ge.symlink("/dev/tty","/dev/stdout"),o.stderr?Ge.createDevice("/dev","stderr",null,o.stderr):Ge.symlink("/dev/tty1","/dev/stderr"),Ge.open("/dev/stdin",0),Ge.open("/dev/stdout",1),Ge.open("/dev/stderr",1)},ensureErrnoError:function(){Ge.ErrnoError||(Ge.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ge.ErrnoError.prototype=new Error,Ge.ErrnoError.prototype.constructor=Ge.ErrnoError,[44].forEach((function(e){Ge.genericErrors[e]=new Ge.ErrnoError(e),Ge.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ge.ensureErrnoError(),Ge.nameTable=new Array(4096),Ge.mount(qe,{},"/"),Ge.createDefaultDirectories(),Ge.createDefaultDevices(),Ge.createSpecialDirectories(),Ge.filesystems={MEMFS:qe}},init:function(e,r,n){Ge.init.initialized=!0,Ge.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=r||o.stdout,o.stderr=n||o.stderr,Ge.createStandardStreams()},quit:function(){Ge.init.initialized=!1;for(var e=0;e<Ge.streams.length;e++){var r=Ge.streams[e];r&&Ge.close(r)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},findObject:function(e,r){var n=Ge.analyzePath(e,r);return n.exists?n.object:null},analyzePath:function(e,r){try{e=(t=Ge.lookupPath(e,{follow:!r})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=Ge.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=Ue.basename(e),t=Ge.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot="/"===t.path}catch(e){n.error=e.errno}return n},createPath:function(e,r,n,t){e="string"==typeof e?e:Ge.getPath(e);for(var o=r.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Ue.join2(e,i);try{Ge.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,r,n,t,o){var i=Ue.join2("string"==typeof e?e:Ge.getPath(e),r),a=Ge.getMode(t,o);return Ge.create(i,a)},createDataFile:function(e,r,n,t,o,i){var a=r;e&&(e="string"==typeof e?e:Ge.getPath(e),a=r?Ue.join2(e,r):e);var s=Ge.getMode(t,o),u=Ge.create(a,s);if(n){if("string"==typeof n){for(var l=new Array(n.length),c=0,f=n.length;c<f;++c)l[c]=n.charCodeAt(c);n=l}Ge.chmod(u,146|s);var d=Ge.open(u,577);Ge.write(d,n,0,n.length,0,i),Ge.close(d),Ge.chmod(u,s)}return u},createDevice:function(e,r,n,t){var o=Ue.join2("string"==typeof e?e:Ge.getPath(e),r),i=Ge.getMode(!!n,!!t);Ge.createDevice.major||(Ge.createDevice.major=64);var a=Ge.makedev(Ge.createDevice.major++,0);return Ge.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,r,t,o,i){for(var a=0,s=0;s<o;s++){var u;try{u=n()}catch(e){throw new Ge.ErrnoError(29)}if(void 0===u&&0===a)throw new Ge.ErrnoError(6);if(null==u)break;a++,r[t+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,n,o,i){for(var a=0;a<o;a++)try{t(r[n+a])}catch(e){throw new Ge.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ge.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!i)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Ie(i(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ge.ErrnoError(29)}},createLazyFile:function(e,r,n,t,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[r]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var r,t=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,i=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;o||(a=t);var s=this;s.setDataGetter((function(e){var r=e*a,o=(e+1)*a-1;if(o=Math.min(o,t-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>t-1)throw new Error("only "+t+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),t!==a&&o.setRequestHeader("Range","bytes="+e+"-"+r),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):Ie(o.responseText||"",!0)}(r,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&t||(a=t=1,t=this.getter(0).length,a=t,b("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var u=Ge.createFile(e,r,s,t,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var l={};function c(e,r,n,t,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,t);if(i.slice)for(var s=0;s<a;s++)r[n+s]=i[o+s];else for(s=0;s<a;s++)r[n+s]=i.get(o+s);return a}return Object.keys(u.stream_ops).forEach((function(e){var r=u.stream_ops[e];l[e]=function(){return Ge.forceLoadFile(u),r.apply(null,arguments)}})),l.read=function(e,r,n,t,o){return Ge.forceLoadFile(u),c(e,r,n,t,o)},l.mmap=function(e,r,n,t,o){Ge.forceLoadFile(u);var i=Ce();if(!i)throw new Ge.ErrnoError(48);return c(e,x,i,r,n),{ptr:i,allocated:!0}},u.stream_ops=l,u},createPreloadedFile:function(e,r,n,t,o,i,a,s,u,l){var c=r?Le.resolve(Ue.join2(e,r)):e;function f(n){function f(n){l&&l(),s||Ge.createDataFile(e,r,n,t,o,u),i&&i(),Q()}Browser.handledByPreloadPlugin(n,c,f,(function(){a&&a(),Q()}))||f(n)}J(),"string"==typeof n?He(n,(function(e){return f(e)}),a):f(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=Ge.indexedDB();try{var o=t.open(Ge.DB_NAME(),Ge.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=function(){b("creating db"),o.result.createObjectStore(Ge.DB_STORE_NAME)},o.onsuccess=function(){var t=o.result.transaction([Ge.DB_STORE_NAME],"readwrite"),i=t.objectStore(Ge.DB_STORE_NAME),a=0,s=0,u=e.length;function l(){0==s?r():n()}e.forEach((function(e){var r=i.put(Ge.analyzePath(e).object.contents,e);r.onsuccess=function(){++a+s==u&&l()},r.onerror=function(){s++,a+s==u&&l()}})),t.onerror=n},o.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=Ge.indexedDB();try{var o=t.open(Ge.DB_NAME(),Ge.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=n,o.onsuccess=function(){var t=o.result;try{var i=t.transaction([Ge.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=i.objectStore(Ge.DB_STORE_NAME),s=0,u=0,l=e.length;function c(){0==u?r():n()}e.forEach((function(e){var r=a.get(e);r.onsuccess=function(){Ge.analyzePath(e).exists&&Ge.unlink(e),Ge.createDataFile(Ue.dirname(e),Ue.basename(e),r.result,!0,!0,!0),++s+u==l&&c()},r.onerror=function(){u++,s+u==l&&c()}})),i.onerror=n},o.onerror=n}};function Xe(e){M=e,V()||(o.onExit&&o.onExit(e),P=!0),h(e,new ae(e))}Xe.sig="vi";var Ke=function(e,r,n,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ge.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=t},Ve=365,Ye=146;Object.defineProperties(Ke.prototype,{read:{get:function(){return(this.mode&Ve)===Ve},set:function(e){e?this.mode|=Ve:this.mode&=-366}},write:{get:function(){return(this.mode&Ye)===Ye},set:function(e){e?this.mode|=Ye:this.mode&=-147}},isFolder:{get:function(){return Ge.isDir(this.mode)}},isDevice:{get:function(){return Ge.isChrdev(this.mode)}}}),Ge.FSNode=Ke,Ge.staticInit();var $e={__heap_base:ve,__indirect_function_table:W,__memory_base:Fe,__stack_pointer:Be,__table_base:ze,emscripten_asm_const_int:Ne,emscripten_resize_heap:je,memory:A};!function(){var e={env:$e,wasi_snapshot_preview1:$e,"GOT.mem":new Proxy($e,le),"GOT.func":new Proxy($e,le)};function r(e,r){var n=e.exports;n=Me(n,1024),o.asm=n;var t,i=fe(r);i.neededDynlibs&&(k=i.neededDynlibs.concat(k)),me(n),t=o.asm.__wasm_call_ctors,q.unshift(t),X.push(o.asm.__wasm_apply_data_relocs),Q()}function n(e){r(e.instance,e.module)}function i(r){return function(){if(!E&&(w||y)){if("function"==typeof fetch&&!te(ee))return fetch(ee,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ee+"'";return e.arrayBuffer()})).catch((function(){return oe(ee)}));if(a)return new Promise((function(e,r){a(ee,(function(r){e(new Uint8Array(r))}),r)}))}return Promise.resolve().then((function(){return oe(ee)}))}().then((function(r){return WebAssembly.instantiate(r,e)})).then((function(e){return e})).then(r,(function(e){_("failed to asynchronously prepare wasm: "+e),Z(e)}))}if(J(),o.instantiateWasm)try{return o.instantiateWasm(e,r)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(E||"function"!=typeof WebAssembly.instantiateStreaming||ne(ee)||te(ee)||v||"function"!=typeof fetch?i(n):fetch(ee,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(n,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),i(n)}))}))).catch(t)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o.___wasm_apply_data_relocs=function(){return(o.___wasm_apply_data_relocs=o.asm.__wasm_apply_data_relocs).apply(null,arguments)},o._random_number_in_range=function(){return(o._random_number_in_range=o.asm.random_number_in_range).apply(null,arguments)};var Je,Qe=o._malloc=function(){return(Qe=o._malloc=o.asm.malloc).apply(null,arguments)},Ze=o._setThrew=function(){return(Ze=o._setThrew=o.asm.setThrew).apply(null,arguments)},er=o.stackSave=function(){return(er=o.stackSave=o.asm.stackSave).apply(null,arguments)},rr=o.stackRestore=function(){return(rr=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},nr=o.stackAlloc=function(){return(nr=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)};function tr(e){var r=o._main;if(r){(e=e||[]).unshift(p);var n,t=e.length,i=nr(4*(t+1)),a=i>>2;e.forEach((function(e){F[a++]=function(e){var r=U(e)+1,n=nr(r);return j(e,x,n,r),n}(e)})),F[a]=0;try{var s=r(t,i);return M=n=s,Xe(n),s}catch(e){return function(e){if(e instanceof ae||"unwind"==e)return M;h(1,e)}(e)}}}$=function e(){Je||ir(),Je||($=e)};var or=!1;function ir(e){function r(){Je||(Je=!0,o.calledRun=!0,P||(K=!0,ce(X),o.noFSInit||Ge.init.initialized||Ge.init(),Ge.ignorePermissions=!1,ce(q),ce(H),n(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),ar&&tr(e),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),G.unshift(e);var e;ce(G)}()))}e=e||m,Y>0||!or&&(k.length?(J(),k.reduce((function(e,r){return e.then((function(){return xe(r,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){Re(),Q()}))):Re(),or=!0,Y>0)||(!function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),C.unshift(e);var e;ce(C)}(),Y>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),r()}),1)):r()))}if(o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var ar=!0;return o.noInitialRun&&(ar=!1),ir(),r.ready}}();const P=async(e,r,n)=>{if(n)return n._random_number_in_range(e,r);const t=h.randomNumberInRangeMemory(e,r);return(await M({wasmMemory:t}))._random_number_in_range(e,r)},D=async e=>{const r=e.length;if(r<2)return e;const n=[...e],t=h.randomNumberInRangeMemory(0,r),o=await M({wasmMemory:t});for(let e=r-1;e>0;e--){const r=await P(0,e+1,o),t=n[e];n[e]=n[r],n[r]=t}return n};var x={randomBytes:w,randomNumberInRange:P,arrayRandomShuffle:D,arrayRandomSubset:async(e,r)=>{const n=e.length;if(n<r||n<2)throw new Error("Not enough elements in the array");return(await D(e)).slice(0,r)},memory:h};const R={randomBytes:x.randomBytes,randomNumberInRange:x.randomNumberInRange,arrayRandomShuffle:x.arrayRandomShuffle,arrayRandomSubset:x.arrayRandomSubset,loadUtilsMemory:{randomBytes:x.memory.randomBytesMemory,randomNumberInRange:x.memory.randomNumberInRangeMemory},loadUtilsModule:M,keyPair:m.keyPair.newKeyPair,keyPairFromSeed:m.keyPair.keyPairFromSeed,keyPairFromSecretKey:m.keyPair.keyPairFromSecretKey,sign:m.sign,verify:m.verify,encrypt:m.encrypt,decrypt:m.decrypt,generateMnemonic:_.generateMnemonic,validateMnemonic:_.validateMnemonic,keypairFromMnemonic:_.keyPairFromMnemonic,loadAsymmetricMemory:{newKeyPair:m.memory.newKeyPairMemory,keyPairFromSeed:m.memory.keyPairFromSeedMemory,keyPairFromSecretKey:m.memory.keyPairFromSecretKeyMemory,sign:m.memory.signMemory,verify:m.memory.verifyMemory,encrypt:m.memory.encryptMemory,decrypt:m.memory.decryptMemory},loadLibsodiumModule:f,sha512:E.sha512,getMerkleRoot:E.getMerkleRoot,loadHashMemory:{sha512:E.memory.sha512Memory,merkleRoot:E.memory.merkleRootMemory},loadHashModule:f,splitSecret:S.splitSecret,restoreSecret:S.restoreSecret,loadShamirMemory:{splitSecret:S.memory.splitSecretMemory,restoreSecret:S.memory.restoreSecretMemory},loadShamirModule:A};e.default=R}));
//# sourceMappingURL=index.umd.js.map
